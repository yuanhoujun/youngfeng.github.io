<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Kotlin æ“ä½œç¬¦é‡è½½åŠä¸­ç¼€è°ƒç”¨]]></title>
    <url>%2F2018%2F02%2F06%2Fkotlin%2F%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD%E5%8F%8A%E4%B8%AD%E7%BC%80%E8%B0%83%E7%94%A8%2F</url>
    <content type="text"><![CDATA[æ“ä½œç¬¦é‡è½½å…¶å®å¾ˆæœ‰æ„æ€ï¼ä½†è¿™ä¸ªæ¦‚å¿µå´å¾ˆå°‘æœ‰äººçŸ¥é“ï¼Œä½¿ç”¨æ“ä½œç¬¦é‡è½½åœ¨æŸç§ç¨‹åº¦ä¸Šä¼šç»™ä»£ç çš„é˜…è¯»å¸¦æ¥ä¸€å®šçš„éº»çƒ¦ã€‚å› æ­¤ï¼Œæ…ç”¨æ“ä½œç¬¦è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ã€‚çš„ç¡®ï¼Œæ“ä½œç¬¦é‡è½½æ˜¯ä¸€æŠŠåŒåˆƒå‰‘ï¼Œæ—¢èƒ½å‰Šé“å¦‚æ³¥ï¼Œä¹Ÿèƒ½â€œå¼•ç«çƒ§èº«â€ï¼Œè¿™ç¯‡æ–‡ç« å°†ä»å®ç”¨çš„è§’åº¦æ¥è®²è§£æ“ä½œç¬¦é‡è½½çš„åŸºæœ¬ç”¨æ³•ã€‚ æ”¯æŒé‡è½½çš„æ“ä½œç¬¦ç±»å‹Kotlinè¯­è¨€æ”¯æŒé‡è½½çš„æ“ä½œç¬¦ç±»å‹æ¯”è¾ƒå¤šã€‚ä»¥æœ€æ–°ç‰ˆæœ¬1.2.21ä¸ºå‡†ï¼Œç›®å‰æ”¯æŒé‡è½½çš„æ“ä½œç¬¦å¯ä»¥å½’çº³ä¸ºä»¥ä¸‹å‡ ç±»ï¼š ä¸€å…ƒæ“ä½œç¬¦ä¸€å…ƒå‰ç¼€æ“ä½œç¬¦ æ“ä½œç¬¦ å¯¹åº”æ–¹æ³• +a a.unaryPlus() -a a.unaryMinus() !a a.not() ä»¥ä¸Šä¸‰ä¸ªæ“ä½œç¬¦åœ¨æ—¥å¸¸ä½¿ç”¨ä¸­é¢‘ç‡å¾ˆé«˜ï¼Œç¬¬ä¸€ä¸ªæ“ä½œç¬¦åœ¨åŸºæœ¬è¿ç®—ä¸­å¾ˆå°‘ä½¿ç”¨ï¼Œç¬¬äºŒä¸ªæ“ä½œç¬¦å°±æ˜¯å¸¸è§çš„å–åæ“ä½œï¼Œç¬¬ä¸‰ä¸ªæ“ä½œç¬¦æ˜¯é€»è¾‘å–åæ“ä½œã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨æ‰©å±•çš„æ–¹å¼é‡è½½è¿™ä¸‰ä¸ªæ“ä½œç¬¦ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041/** * ä¸€å…ƒæ“ä½œç¬¦ * * @author Scott Smith 2018-02-03 14:11 */data class Number(var value: Int)/** * é‡è½½ä¸€å…ƒæ“ä½œç¬¦+ï¼Œä½¿å…¶å¯¹Numberä¸­å®é™…æ•°æ®å–ç»å¯¹å€¼ */operator fun Number.unaryPlus(): Number &#123; this.value = Math.abs(value) return this&#125;/** * é‡è½½ä¸€å…ƒæ“ä½œç¬¦-ï¼Œä½¿å…¶å¯¹Numberä¸­å®é™…æ•°æ®å–å */operator fun Number.unaryMinus(): Number &#123; this.value = -value return this&#125;/** * è¿™ä¸ªæ“ä½œç¬¦é€šå¸¸æ˜¯ç”¨äºé€»è¾‘å–åï¼Œè¿™é‡Œç”¨ä¸€ä¸ªæ²¡æœ‰æ„ä¹‰çš„æ“ä½œï¼Œæ¥æ¨¡æ‹Ÿé‡è½½è¿™ä¸ªæ“ä½œç¬¦ * ç»“æœï¼šå§‹ç»ˆè¿”å›Numberä¸­å®é™…æ•°æ®çš„è´Ÿå€¼ */operator fun Number.not(): Number &#123; this.value = -Math.abs(value) return this&#125;fun main(args: Array&lt;String&gt;) &#123; val number = Number(-3) println(&quot;Number value = $&#123;number.value&#125;&quot;) println(&quot;After unaryPlus: Number value = $&#123;(+number).value&#125;&quot;) println(&quot;After unaryMinus: Number value = $&#123;(-number).value&#125;&quot;) number.value = Math.abs(number.value) println(&quot;After unaryNot: Number value = $&#123;(!number).value&#125;&quot;)&#125; è¿è¡Œä¸Šè¿°ä»£ç ï¼Œå°†å¾—åˆ°å¦‚ä¸‹ç»“æœï¼š1234Number value = -3After unaryPlus: Number value = 3After unaryMinus: Number value = -3After unaryNot: Number value = -3 è‡ªå¢å’Œè‡ªå‡æ“ä½œç¬¦ æ“ä½œç¬¦ å¯¹åº”æ–¹æ³• a++/++a a.inc() aâ€“/â€“a a.dec() é‡è½½è¿™ä¸ªæ“ä½œç¬¦ç›¸å¯¹æ¯”è¾ƒéš¾ç†è§£ï¼Œå®˜æ–¹æ–‡æ¡£æœ‰ä¸€æ®µç®€çŸ­çš„æ–‡å­—è§£é‡Šï¼Œç¿»è¯‘æˆä»£ç å¯ä»¥è¿™æ ·è¡¨ç¤ºï¼š123456789101112// a++fun increment(a: Int): Int &#123; val a0 = a a = a + 1 return a0&#125;// ++afun increment(a: Int): Int &#123; a = a + 1 return a&#125; çœ‹æ‡‚ä¸Šé¢çš„ä»£ç åï¼Œæˆ‘ä»¬æ¢æˆéœ€è¦é‡è½½çš„Numberç±»ï¼ŒKotlinæœ€ç»ˆä¼šè¿™æ ·å¤„ç†ï¼š1234567891011// Number++fun increment(number: Number): Number &#123; val temp = number val result = number.inc() return result&#125;// Number++fun increment(number: Number): Number &#123; return number.inc()&#125; å› æ­¤ï¼Œé‡è½½Numberç±»è‡ªåŠ æ“ä½œç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š123operator fun Number.inc(): Number &#123; return Number(this.value + 1)&#125; é‡è½½è‡ªå‡æ“ä½œç¬¦åŒç†ï¼Œå®Œæ•´ä»£ç è¯·å‚è€ƒæˆ‘çš„Gitç‰ˆæœ¬åº“ï¼škotlin-samples äºŒå…ƒæ“ä½œç¬¦ç®—æœ¯è¿ç®—ç¬¦ æ“ä½œç¬¦ å¯¹åº”æ–¹æ³• a + b a.plus(b) a - b a.minus(b) a * b a.times(b) a / b a.div(b) a % b a.rem(b) a..b a.rangeTo(b) å‰5ä¸ªæ“ä½œç¬¦ç›¸å¯¹æ¯”è¾ƒå¥½ç†è§£ï¼Œæˆ‘ä»¬ä»¥a + bä¸ºä¾‹ï¼Œä¸¾ä¸ªä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š12345678910// é‡è½½Numberç±»çš„åŠ æ³•è¿ç®—ç¬¦operator fun Number.plus(value: Int): Number &#123; return Number(this.value + value)&#125;fun main(args: Array&lt;String&gt;) &#123; println((Number(1) + 2))&#125;// è¾“å‡ºç»“æœï¼šNumber value = 3 ç›¸å¯¹æ¯”è¾ƒéš¾ç†è§£çš„æ˜¯ç¬¬å…­ä¸ªèŒƒå›´è¿ç®—ç¬¦ï¼Œè¿™ä¸ªæ“ä½œç¬¦ä¸»è¦ç”¨äºç”Ÿæˆä¸€æ®µæ•°æ®èŒƒå›´ã€‚æˆ‘ä»¬è®¤ä¸ºNumberæœ¬èº«å°±ä»£è¡¨ä¸€ä¸ªæ•´å‹æ•°å­—ï¼Œå› æ­¤ï¼Œé‡è½½Numberæ˜¯ä¸€ä»¶æœ‰æ„ä¹‰çš„äº‹æƒ…ã€‚ç›´æ¥çœ‹ä¾‹å­ï¼š123456789101112131415161718192021operator fun Number.rangeTo(to: Number): IntRange &#123; return this.value..to.value&#125;fun main(args: Array&lt;String&gt;) &#123; val startNumber = Number(3) val endNumber = Number(9) (startNumber..endNumber).forEach &#123; println(&quot;value = $it&quot;) &#125;&#125;// è¿è¡Œç»“æœï¼švalue = 3value = 4value = 5value = 6value = 7value = 8value = 9 â€œInâ€è¿ç®—ç¬¦ æ“ä½œç¬¦ å¯¹åº”æ–¹æ³• a in b b.contains(a) a !in b !b.contains(a) è¿™ä¸ªæ“ä½œç¬¦ç›¸å¯¹æ¯”è¾ƒå¥½ç†è§£ï¼Œé‡è½½è¿™ä¸ªæ“ä½œç¬¦å¯ä»¥ç”¨äºåˆ¤æ–­æŸä¸ªæ•°æ®æ˜¯å¦åœ¨å¦å¤–ä¸€ä¸ªå¯¹è±¡ä¸­ã€‚æˆ‘ä»¬ç”¨ä¸€ä¸ªéå¸¸ç®€å•çš„è‡ªå®šä¹‰ç±»æ¥æ¨¡æ‹Ÿé›†åˆæ“ä½œï¼š1234567891011121314151617class IntCollection &#123; val intList = ArrayList&lt;Int&gt;()&#125;// é‡è½½&quot;in&quot;æ“ä½œç¬¦operator fun IntCollection.contains(value: Int): Boolean &#123; return this.intList.contains(value)&#125;fun main(args: Array&lt;String&gt;) &#123; val intCollection = IntCollection() intCollection.add(1, 2, 3) println(3 in intCollection)&#125;// è¾“å‡ºç»“æœï¼štrue ç´¢å¼•è®¿é—®è¿ç®—ç¬¦ æ“ä½œç¬¦ å¯¹åº”æ–¹æ³• a[i] a.get(i) a[i, j] a.get(i, j) a[i_1, â€¦, i_n] a.get(i_1, â€¦, i_n) a[i] = b a.set(i, b) a[i, j] = b a.set(i, j, b) a[i_1, â€¦, i_n] = b a.set(i_1, â€¦, i_n, b) è¿™ä¸ªæ“ä½œç¬¦å¾ˆæœ‰æ„æ€ï¼Œä¾‹å¦‚ï¼Œå¦‚æœä½ è¦è®¿é—®Mapä¸­æŸä¸ªæ•°æ®ï¼Œé€šå¸¸æ˜¯è¿™æ ·çš„map.get(&quot;key&quot;)ï¼Œä½¿ç”¨ç´¢å¼•è¿ç®—ç¬¦ä½ è¿˜å¯ä»¥è¿™æ ·æ“ä½œï¼š1val value = map[&quot;key&quot;] æˆ‘ä»¬ç»§ç»­ä»¥IntCollectionç±»ä¸ºä¾‹ï¼Œå°è¯•é‡å†™a[i]å’Œa[i] = bä¸¤ä¸ªè¿ç®—ç¬¦ï¼Œå…¶å®ƒè¿ç®—ç¬¦åŒç†ã€‚123456789101112131415161718// é‡è½½a[i]æ“ä½œç¬¦operator fun IntCollection.get(index: Int): Int &#123; return intList[index]&#125;// é‡è½½a[i] = bæ“ä½œç¬¦operator fun IntCollection.set(index: Int, value: Int) &#123; intList[index] = value&#125;fun main(args: Array&lt;String&gt;) &#123; val intCollection = IntCollection() intCollection.add(1, 2, 3) println(intCollection[0]) intCollection[2] = 4 print(intCollection[2])&#125; æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç”¨ç´¢å¼•è¿ç®—ç¬¦æ¥åšä¸€ç‚¹æ›´æœ‰æ„æ€çš„äº‹æƒ…ï¼æ–°å»ºä¸€ä¸ªæ™®é€šçš„Kotlinç±»Userï¼š1234class User(var name: String, var age: Int) &#123;&#125; ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼é‡è½½ç´¢å¼•è¿ç®—ç¬¦ï¼š1234567891011121314151617181920212223operator fun User.get(key: String): Any? &#123; when(key) &#123; &quot;name&quot; -&gt; &#123; return this.name &#125; &quot;age&quot; -&gt; &#123; return this.age &#125; &#125; return null&#125;operator fun User.set(key: String, value:Any?) &#123; when(key) &#123; &quot;name&quot; -&gt; &#123; name = value as? String &#125; &quot;age&quot; -&gt; &#123; age = value as? Int &#125; &#125;&#125; æ¥ä¸‹æ¥ï¼Œä½ ä¼šç¥å¥‡åœ°å‘ç°ï¼Œä¸€ä¸ªæ™®é€šçš„Kotlinç±»å±…ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ç´¢å¼•è¿ç®—ç¬¦å¯¹æˆå‘˜å˜é‡è¿›è¡Œæ“ä½œäº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆç¥å¥‡ï¼Ÿ123456fun main(args: Array&lt;String&gt;) &#123; val user = User(&quot;Scott Smith&quot;, 18) println(user[&quot;name&quot;]) user[&quot;age&quot;] = 22 println(user[&quot;age&quot;])&#125; å› æ­¤ï¼Œç´¢å¼•è¿ç®—ç¬¦ä¸ä»…ä»…å¯ä»¥å¯¹é›†åˆç±»æ•°æ®è¿›è¡Œæ“ä½œï¼Œå¯¹ä¸€ä¸ªæ™®é€šçš„Kotlinç±»ä¹Ÿå¯ä»¥å‘æŒ¥åŒæ ·çš„ä½œç”¨ã€‚å¦‚æœä½ è„‘æ´è¶³å¤Ÿå¤§ï¼Œä½ è¿˜å¯ä»¥å‘ç°æ›´å¤šæ›´ç¥å¥‡çš„ç©æ³•ã€‚ è°ƒç”¨æ“ä½œç¬¦ æ“ä½œç¬¦ å¯¹åº”æ–¹æ³• a() a.invoke() a(i) a.invoke(i) a(i, j) a.invoke(i, j) a(i_1, â€¦â€¦, i_n) a.invoke(i_1, â€¦â€¦, i_n) é‡è½½è¿™ä¸ªæ“ä½œç¬¦å¹¶ä¸éš¾ï¼Œç†è§£å®ƒçš„åº”ç”¨åœºæ™¯å´æœ‰ä¸€å®šçš„éš¾åº¦ã€‚ä¸ºäº†ç†è§£å®ƒçš„åº”ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬æ¥ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š12345678910111213class JsonParser &#123;&#125;operator fun JsonParser.invoke(json: String): Map&lt;String, Any&gt; &#123; val map = Json.parse(json) ... return map&#125;// å¯ä»¥è¿™æ ·è°ƒç”¨val parser = JsonParser()val map = parser(&quot;&#123;name: \&quot;Scott Smith\&quot;&#125;&quot;) è¿™é‡Œçš„è°ƒç”¨æœ‰ç‚¹åƒçœç•¥äº†ä¸€ä¸ªè§£æJsonæ•°æ®çš„æ–¹æ³•ï¼Œéš¾é“å®ƒä»…ä»…å°±æ˜¯è¿™ä¸ªä½œç”¨å—ï¼Ÿæ˜¯çš„ï¼Œè°ƒç”¨æ“ä½œç¬¦å…¶å®å°±è¿™ä¸€ä¸ªä½œç”¨ã€‚å¦‚æœä¸€ä¸ªKotlinç±»ä»…ä»…åªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œç›´æ¥ä½¿ç”¨æ‹¬å·è°ƒç”¨çš„ç¡®æ˜¯ä¸€ä¸ªä¸é”™çš„ä¸»æ„ã€‚ä¸è¿‡ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™è¿˜æ˜¯è¦ç¨å¾®æ³¨æ„ä¸€ä¸‹ï¼Œé¿å…å‡ºç°æ­§ä¹‰ã€‚ å¹¿ä¹‰èµ‹å€¼æ“ä½œç¬¦ æ“ä½œç¬¦ å¯¹åº”æ–¹æ³• a += b a.plusAssign(b) a -= b a.minusAssign(b) a *= b a.timesAssign(b) a /= b a.divAssign(b) a %= b a.remAssign(b) è¿™ä¸ªæ“ä½œç¬¦ç›¸å¯¹æ¯”è¾ƒå¥½ç†è§£ï¼Œæˆ‘ä»¬ä»¥Numberç±»ä¸ºä¾‹ï¼Œä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š12345678910111213// å¹¿ä¹‰èµ‹å€¼è¿ç®—ç¬¦operator fun Number.plusAssign(value: Int) &#123; this.value += value&#125;fun main(args: Array&lt;String&gt;) &#123; val number = Number(1) number += 2 println(number)&#125;// è¾“å‡ºç»“æœï¼šNumber value = 3 ç›¸ç­‰ä¸ä¸ç­‰æ“ä½œç¬¦ æ“ä½œç¬¦ å¯¹åº”æ–¹æ³• a == b a?.equals(b) ?: (b === null) a != b !(a?.equals(b) ?: (b === null)) é‡è½½è¿™ä¸ªæ“ä½œç¬¦ä¸Javaé‡å†™equalsæ–¹æ³•æ˜¯ä¸€æ ·çš„ã€‚ä¸è¿‡ï¼Œè¿™é‡Œè¦æ³¨æ„ä¸Javaçš„åŒºåˆ«ï¼Œåœ¨Javaç«¯==ç”¨äºåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯åŒä¸€å¯¹è±¡ï¼ˆæŒ‡é’ˆçº§åˆ«ï¼‰ã€‚è€Œåœ¨Kotlinè¯­è¨€ä¸­ï¼Œå¦‚æœæˆ‘ä»¬ä¸åšä»»ä½•å¤„ç†ï¼Œ==ç­‰åŒäºä½¿ç”¨Javaå¯¹è±¡çš„equalsæ–¹æ³•åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ å¦å¤–ï¼Œè¿™é‡Œè¿˜æœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œå¦‚æœå·¦å€¼ç­‰äºnullï¼Œè¿™ä¸ªæ—¶å€™a?.equals(b)å°†è¿”å›nullå€¼ã€‚å› æ­¤ï¼Œè¿™é‡Œè¿˜å¢åŠ äº†?:è¿ç®—ç¬¦ç”¨äºè¿›ä¸€æ­¥åˆ¤æ–­ï¼Œåœ¨è¿™ä¸ªæƒ…å†µä¸‹ï¼Œå½“ä¸”ä»…å½“b === nullçš„æ—¶å€™ï¼Œaã€bæ‰æœ‰å¯èƒ½ç›¸ç­‰ã€‚å› æ­¤ï¼Œæ‰æœ‰äº†ä¸Šé¢çš„å¯¹åº”å…³ç³»ï¼Œè¿™é‡Œä»¥Userç±»ä¸ºä¾‹ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š12345678910class User(var name: String?, var age: Int?) &#123; operator override fun equals(other: Any?): Boolean &#123; if(other is User) &#123; return (this.name == other.name) &amp;&amp; (this.age == other.age) &#125; return false &#125;&#125; æ³¨æ„ï¼šè¿™é‡Œæœ‰ä¸€ä¸ªç‰¹æ®Šçš„åœ°æ–¹ï¼Œä¸å…¶å®ƒæ“ä½œç¬¦ä¸ä¸€æ ·çš„åœ°æ–¹æ˜¯ï¼Œå¦‚æœä½¿ç”¨æ‰©å±•çš„æ–¹å¼å°è¯•é‡è½½è¯¥æ“ä½œç¬¦ï¼Œå°†ä¼šæŠ¥é”™ã€‚å› æ­¤ï¼Œå¦‚æœè¦é‡è½½è¯¥æ“ä½œç¬¦ï¼Œä¸€å®šè¦åœ¨ç±»ä¸­è¿›è¡Œé‡å†™ã€‚ æ¯”è¾ƒæ“ä½œç¬¦ æ“ä½œç¬¦ å¯¹åº”æ–¹æ³• a &gt; b a.compareTo(b) &gt; 0 a &lt; b a.compareTo(b) &lt; 0 a &gt;= b a.compareTo(b) &gt;= 0 a &lt;= b a.compareTo(b) &lt;= 0 æ¯”è¾ƒæ“ä½œç¬¦æ˜¯ä¸€ä¸ªåœ¨æ—¥å¸¸ä½¿ç”¨ä¸­é¢‘ç‡éå¸¸é«˜çš„æ“ä½œç¬¦ï¼Œé‡è½½è¿™ä¸ªæ“ä½œç¬¦åªéœ€è¦æŒæ¡ä»¥ä¸Šè¡¨æ ¼ä¸­å‡ ä¸ªè§„åˆ™å³å¯ã€‚æˆ‘ä»¬ä»¥Numberç±»ä¸ºä¾‹ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š123operator fun Number.compareTo(number: Number): Int &#123; return this.value - number.value&#125; å±æ€§å§”æ‰˜æ“ä½œç¬¦å±æ€§å§”æ‰˜æ“ä½œç¬¦æ˜¯ä¸€ç§éå¸¸ç‰¹æ®Šçš„æ“ä½œç¬¦ï¼Œå…¶ä¸»è¦ç”¨åœ¨ä»£ç†å±æ€§ä¸­ã€‚å…³äºKotlinä»£ç†çš„çŸ¥è¯†ï¼Œå¦‚æœä½ è¿˜ä¸äº†è§£çš„è¯ï¼Œè¯·å‚è€ƒè¿™ç¯‡æ–‡ç«  Delegationã€‚è¿™ç¯‡æ–‡ç« ä»‹ç»çš„ç›¸å¯¹ç®€ç•¥ï¼Œåé¢ä¼šå‡ºä¸€ç¯‡æ›´è¯¦ç»†çš„æ–‡ç« ä»‹ç»ä»£ç†ç›¸å…³çš„çŸ¥è¯†ã€‚ ä¸­ç¼€è°ƒç”¨çœ‹åˆ°è¿™é‡Œï¼Œå¯èƒ½æœ‰ä¸€äº›è¿½æ±‚æ›´é«˜çº§ç©æ³•çš„åŒå­¦ä¼šé—®ï¼šKotlinæ”¯æŒè‡ªå®šä¹‰æ“ä½œç¬¦å—ï¼Ÿ ç­”æ¡ˆå½“ç„¶æ˜¯ï¼šä¸èƒ½ï¼ä¸è¿‡ï¼Œåˆ«å¤±æœ›ï¼Œinfixä¹Ÿè®¸é€‚åˆä½ ï¼Œå®ƒå…¶å®å¯ä»¥çœ‹åšä¸€ç§è‡ªå®šä¹‰æ“ä½œç¬¦çš„å®ç°ã€‚è¿™é‡Œæˆ‘ä»¬å¯¹é›†åˆListæ–°å¢ä¸€ä¸ªæ‰©å±•æ–¹æ³•intersectionç”¨äºè·å–ä¸¤ä¸ªé›†åˆçš„äº¤é›†ï¼š1234567891011// è·å–ä¸¤ä¸ªé›†åˆçš„äº¤é›†fun &lt;E&gt; List&lt;E&gt;.interSection(other: List&lt;E&gt;): List&lt;E&gt; &#123; val result = ArrayList&lt;E&gt;() forEach &#123; if(other.contains(it)) &#123; result.add(it) &#125; &#125; return result&#125; æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ListåŠå…¶å­ç±»ä¸­ä½¿ç”¨ç‚¹è¯­æ³•è°ƒç”¨äº†ã€‚ä½†ï¼Œå®ƒçœ‹èµ·æ¥ä»ç„¶ä¸åƒä¸€ä¸ªæ“ä½œç¬¦ã€‚ä¸ºäº†è®©å®ƒæ›´åƒä¸€ä¸ªæ“ä½œç¬¦ï¼Œæˆ‘ä»¬ç»§ç»­åšç‚¹äº‹æƒ…ï¼š æ·»åŠ infixå…³é”®è¯ å°†å‡½æ•°åä¿®æ”¹ä¸ºâˆ©ï¼ˆè¿™æ˜¯æ•°å­¦ä¸Šè·å–äº¤é›†çš„æ ‡è®°ç¬¦å·ï¼‰ç„¶è€Œï¼Œä¸‡ä¸‡æ²¡æƒ³åˆ°ï¼Œä¿®æ”¹å®Œæˆåå±…ç„¶æŠ¥é”™äº†ã€‚Kotlinå¹¶ä¸å…è®¸ç›´æ¥ä½¿ç”¨ç‰¹æ®Šç¬¦å·ä½œä¸ºå‡½æ•°åå¼€å¤´ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å–å½¢è¿‘çš„å­—æ¯nç”¨äºè¡¨ç¤ºå‡½æ•°åï¼š1234567891011// è·å–ä¸¤ä¸ªé›†åˆçš„äº¤é›†infix fun &lt;E&gt; List&lt;E&gt;.n(other: List&lt;E&gt;): List&lt;E&gt; &#123; val result = ArrayList&lt;E&gt;() forEach &#123; if(other.contains(it)) &#123; result.add(it) &#125; &#125; return result&#125; æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿™æ ·è°ƒç”¨äº†val interSection = list1 n list2ï¼Œæ€ä¹ˆæ ·ï¼Ÿæ˜¯ä¸æ˜¯å¾ˆåƒè‡ªå®šä¹‰äº†ä¸€ä¸ªè·å–äº¤é›†çš„æ“ä½œç¬¦nï¼Ÿå¦‚æœä½ å¸Œæœ›è‡ªå®šä¹‰æ“ä½œç¬¦ï¼Œå¯ä»¥å°è¯•è¿™ä¹ˆåšã€‚ å…¶å®infixçš„åº”ç”¨åœºæ™¯è¿˜ä¸æ­¢è¿™äº›ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†ç”¨å®ƒå®Œæˆä¸€ä»¶æ›´æœ‰æ„æ€çš„äº‹æƒ…ã€‚ åœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œæ•°æ®åº“æ•°æ®åˆ°å¯¹è±¡çš„å¤„ç†æ˜¯ä¸€ä»¶ç¹ççš„è¿‡ç¨‹ï¼Œæœ€éº»çƒ¦çš„åœ°æ–¹è«è¿‡äºæ€ç»´çš„è½¬æ¢ã€‚é‚£æˆ‘ä»¬æ˜¯å¦å¯ä»¥åœ¨ä»£ç ä¸­ç›´æ¥ä½¿ç”¨SQLè¯­å¥æŸ¥è¯¢å¯¹è±¡æ•°æ®å‘¢ï¼Ÿä¾‹å¦‚è¿™æ ·ï¼š1val users = Select * from User where age &gt; 18 çº¸ä¸Šå­¦æ¥ç»ˆè§‰æµ…ï¼Œè§‰çŸ¥æ­¤äº‹éœ€èº¬è¡Œã€‚æœ‰äº†è¿™ä¸ªideaï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æœç€è¿™ä¸ªç›®æ ‡åŠªåŠ›ã€‚ä¸€ã€å…ˆå£°æ˜ä¸€ä¸ªSqlç±»ï¼Œå‡†å¤‡å¦‚ä¸‹æ–¹æ³•ï¼š1234567infix fun select(columnBuilder: ColumnBuilder): Sql &#123;infix fun from(entityClass: Class&lt;*&gt;): Sql infix fun where(condition: String): Sql fun &lt;T&gt; query(): T äºŒã€æˆ‘ä»¬çš„ç›®çš„æ˜¯ï¼šæœ€ç»ˆè½¬æ¢åˆ°SQLè¯­å¥å½¢å¼ã€‚å› æ­¤ï¼Œå¢åŠ å¦‚ä¸‹å®ç°ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758class ColumnBuilder(var columns: Array&lt;out String&gt;) &#123;&#125;class Sql private constructor() &#123; var columns = emptyList&lt;String&gt;() var entityClass: Class&lt;*&gt;? = null var condition: String? = null companion object &#123; fun get(): Sql &#123; return Sql() &#125; &#125; infix fun select(columnBuilder: ColumnBuilder): Sql &#123; this.columns = columnBuilder.columns.asList() return this &#125; infix fun from(entityClass: Class&lt;*&gt;): Sql &#123; this.entityClass = entityClass return this &#125; infix fun where(condition: String): Sql &#123; this.condition = condition return this &#125; fun &lt;T&gt; query(): T &#123; // æ­¤å¤„çœç•¥æ‰€æœ‰æ¡ä»¶åˆ¤æ–­ val sqlBuilder = StringBuilder(&quot;select &quot;) val columnBuilder = StringBuilder(&quot;&quot;) if(columns.size == 1 &amp;&amp; columns[0] == &quot;*&quot;) &#123; columnBuilder.append(&quot;*&quot;) &#125; else &#123; columns.forEach &#123; columnBuilder.append(it).append(&quot;,&quot;) &#125; columnBuilder.delete(columns.size - 1, columns.size) &#125; val sql = sqlBuilder.append(columnBuilder.toString()) .append(&quot; from $&#123;entityClass?.simpleName&#125; where &quot;) .append(condition) .toString() println(&quot;æ‰§è¡ŒSQLæŸ¥è¯¢ï¼š$sql&quot;) return execute(sql) &#125; private fun &lt;T&gt; execute(sql: String): T &#123; // ä»…ä»…ç”¨äºæµ‹è¯• return Any() as T &#125;&#125; ä¸‰ã€ä¸ºäº†çœ‹èµ·æ¥æ›´å½¢ä¼¼ï¼Œå†å¢åŠ å¦‚ä¸‹ä¸¤ä¸ªæ–¹æ³•ï¼š123456789// ä½¿å…¶çœ‹èµ·æ¥åƒåœ¨æ•°æ®åº“ä½œç”¨åŸŸä¸­æ‰§è¡Œfun database(init: Sql.()-&gt;Unit) &#123; init.invoke(Sql.get())&#125;// å› ä¸ºinfixé™åˆ¶ï¼Œå‚æ•°ä¸èƒ½ç›´æ¥ä½¿ç”¨å¯å˜å‚æ•°ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¢åŠ è¿™ä¸ªæ–¹æ³•ä½¿å‚æ•°ç»„è£…çœ‹èµ·æ¥æ›´è‡ªç„¶fun columns(vararg columns: String): ColumnBuilder &#123; return ColumnBuilder(columns)&#125; æ¥ä¸‹æ¥ï¼Œå°±æ˜¯è§è¯å¥‡è¿¹çš„æ—¶åˆ»ï¼12345678fun main(args: Array&lt;String&gt;) &#123; database &#123; (select (columns(&quot;*&quot;)) from User::class.java where &quot;age &gt; 18&quot;).query() &#125;&#125;// è¾“å‡ºç»“æœï¼šæ‰§è¡ŒSQLæŸ¥è¯¢ï¼šselect * from User where age &gt; 18 ä¸ºäº†æ–¹ä¾¿å¤§å®¶æŸ¥çœ‹ï¼Œæˆ‘ä»¬æå–å®Œæ•´æ‰§è¡Œä»£ç æ®µä¸SQLè¯­å¥å¯¹æ¯”ï¼š12select * from User where age &gt; 18select (columns(&quot;*&quot;)) from User::class.java where &quot;age &gt; 18&quot; ç¥å¥‡å—ï¼Ÿè‡³æ­¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥åœ¨ä»£ç ä¸­æ„‰å¿«åœ°ä½¿ç”¨ç±»ä¼¼SQLè¯­å¥çš„æ–¹å¼è¿›è¡Œæ–¹æ³•è°ƒç”¨äº†ã€‚ æ€»ç»“æœ¬ç¯‡æ–‡ç« ä»æ“ä½œç¬¦é‡è½½å®ç”¨çš„è§’åº¦è®²è§£äº†æ“ä½œç¬¦é‡è½½çš„æ‰€æœ‰ç›¸å…³çŸ¥è¯†ã€‚å¦‚æ–‡ç« å¼€å¤´æ‰€è¯´ï¼Œæ“ä½œç¬¦é‡è½½æ˜¯ä¸€æŠŠåŒåˆƒå‰‘ã€‚ç”¨å¾—å¥½äº‹åŠåŠŸå€ï¼Œç”¨ä¸å¥½äº‹å€åŠŸåŠã€‚å› æ­¤ï¼Œæˆ‘ç»™å¤§å®¶çš„å»ºè®®æ˜¯ï¼šä½¿ç”¨çš„æ—¶å€™ä¸€å®šè¦ä¿è¯èƒ½å¤Ÿè‡ªåœ†å…¶è¯´ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯è‡ªç„¶ã€‚æˆ‘è®¤ä¸ºç›¸å¯¹äºå¤è€çš„è¯­è¨€C++æ¥è¯´ï¼ŒKotlinè¯­è¨€æ“ä½œç¬¦é‡è½½çš„è®¾è®¡æ˜¯éå¸¸æ£’çš„ã€‚å¦‚æœä½ çŸ¥é“è‡ªå·±åœ¨åšä»€ä¹ˆï¼Œæˆ‘éå¸¸æ¨èä½ åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨æ“ä½œç¬¦é‡è½½æ¥ç®€åŒ–æ“ä½œã€‚ æœ¬ç¯‡æ–‡ç« ä¾‹å­ä»£ç ç‚¹è¿™é‡Œï¼škotlin-samples æˆ‘æ˜¯æ¬§é˜³é”‹ï¼Œä¸€ä¸ªçƒ­çˆ±Kotlinè¯­è¨€ç¼–ç¨‹çš„å­¦ç”Ÿã€‚å¦‚æœä½ å–œæ¬¢æˆ‘çš„æ–‡ç« ï¼Œè¯·åœ¨æ–‡ç« ä¸‹æ–¹ç•™ä¸‹ä½ çˆ±çš„å°è®°ã€‚å¦‚æœä½ ä¸å–œæ¬¢æˆ‘çš„æ–‡ç« ï¼Œè¯·å…ˆå–œæ¬¢ä¸Šæˆ‘çš„æ–‡ç« ã€‚ç„¶åå†ç•™ä¸‹çˆ±çš„å°è®°ï¼ ä¸‹æ¬¡æ–‡ç« å†è§ï¼Œæ‹œæ‹œï¼]]></content>
      <categories>
        <category>Kotlin</category>
        <category>åŸºç¡€çŸ¥è¯†</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Kotlin</tag>
        <tag>æ“ä½œç¬¦</tag>
        <tag>é‡è½½</tag>
        <tag>infix</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºGitï¼Œä½ çœŸçš„å­¦ä¼šäº†å—ï¼Ÿ]]></title>
    <url>%2F2018%2F02%2F01%2Fdevelop%20tools%2F%E5%85%B3%E4%BA%8EGit%EF%BC%8C%E4%BD%A0%E7%9C%9F%E7%9A%84%E5%AD%A6%E4%BC%9A%E4%BA%86%E5%90%97%EF%BC%9F%2F</url>
    <content type="text"><![CDATA[â€œé”‹å“¥ï¼ŒGitæœ‰ä»€ä¹ˆå¯è¯´çš„ï¼Œä¸å°±æ˜¯git addæ·»åŠ ï¼Œgit commitæäº¤å˜›â€ å¬è¯´æˆ‘è¦å†™ä¸€ç¯‡Gitæ•™ç¨‹ï¼Œå°æ˜ä¸å±‘ä¸€é¡¾åœ°è¯´ã€‚â€œâ€¦â€ã€‚ å°æ˜æ˜¯æˆ‘çš„ä¸€ä¸ªå­¦ç”Ÿã€‚ç›®å‰ï¼Œæ˜¯ä¸€åAndroidå¼€å‘å·¥ç¨‹å¸ˆã€‚ è¿‡äº†å‡ å¤©ï¼Œæˆ‘åˆå†æ¬¡è§åˆ°äº†å°æ˜ã€‚ â€œé”‹å“¥ï¼Œä»Šå¤©ï¼Œæˆ‘åœ¨Githubæ–°å»ºäº†ä¸€ä¸ªç‰ˆæœ¬åº“ï¼Œæœ¬åœ°æäº¤åæ¨é€è¿œç¨‹çš„æ—¶å€™ï¼Œå´è¢«æ‹’ç»äº†ï¼Œæ˜¯æ€ä¹ˆå›äº‹ï¼Ÿâ€ ä»¥ä¸‹æ˜¯å°æ˜çš„æ“ä½œè®°å½•ï¼š12345git initgit add .git commit -m &quot;Init commit&quot;git remote add origin git@github.com:xiaoming/xxx.gitgit pull origin master ä»¥ä¸Šæ“ä½œè§¦å‘äº†ä¸‹é¢çš„é”™è¯¯ï¼š1234From git@github.com:xiaoming/xxx.git * branch master -&gt; FETCH_HEAD * [new branch] master -&gt; origin/masterfatal: refusing to merge unrelated histories â€œå°æ˜ï¼Œæ³¨æ„çœ‹æœ€åä¸€å¥æç¤ºã€‚ç¿»è¯‘æˆä¸­æ–‡çš„æ„æ€æ˜¯ â€˜æ‹’ç»åˆå¹¶ä¸ç›¸å…³çš„å†å²â€™ï¼Œè¿™ä¸ªé—®é¢˜æœ‰ä¸¤ä¸ªæ–¹æ¡ˆå¯ä»¥å¤„ç†ã€‚â€ git pullå‘½ä»¤å…¶å®æ˜¯è§¦å‘äº†æ‹‰å–git fetchå’Œåˆå¹¶git mergeä¸¤ä¸ªæ“ä½œã€‚è€Œæœ¬åœ°çš„ç‰ˆæœ¬åº“å’Œè¿œç¨‹ç‰ˆæœ¬åº“åœ¨ç¬¬ä¸€æ¬¡æ‹‰å–æˆ–æ¨é€å®Œæˆä¹‹å‰æ˜¯æ¯«ä¸ç›¸å…³çš„ï¼ŒGitä¸ºäº†é¿å…ä¸å¿…è¦çš„åˆå¹¶ï¼Œé»˜è®¤ä¸å…è®¸è¿›è¡Œè¿™æ ·çš„æ“ä½œã€‚ä½†ä½ å¯ä»¥æ‰‹åŠ¨æ·»åŠ --allow-unrelated-historieså¼ºåˆ¶è¿›è¡Œåˆå¹¶ï¼Œè¿™æ˜¯æ–¹æ¡ˆä¸€ã€‚ 1git pull origin master --allow-unrelated-histories å†æ¥çœ‹æ–¹æ¡ˆäºŒï¼Œä»ä½ ä¸Šé¢çš„æ“ä½œæ¥çœ‹ï¼Œä½ åªæ˜¯åœ¨æœ¬åœ°åˆå§‹åŒ–äº†ä¸€ä¸ªç‰ˆæœ¬åº“ï¼Œå¹¶å®Œæˆäº†åŸºç¡€çš„æäº¤ã€‚æ¥ä¸‹æ¥ï¼Œä½ å¸Œæœ›å’Œè¿œç¨‹ç‰ˆæœ¬åº“å»ºç«‹å…³è”ï¼Œå°†æäº¤æ¨é€åˆ°è¿œç¨‹ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå…¶å®ä½ å¯èƒ½å¹¶ä¸éœ€è¦è¿œç¨‹çš„é»˜è®¤æ•°æ®ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªç©ºçš„READMEæ–‡ä»¶ï¼‰ã€‚æ‰€ä»¥ï¼Œä½ å¯ä»¥æ·»åŠ -få‚æ•°ï¼Œå°†æäº¤å¼ºåˆ¶æäº¤å¹¶è¦†ç›–è¿œç¨‹ç‰ˆæœ¬åº“ã€‚ 1git push -f origin master å°æ˜è‹¥æœ‰æ‰€æ€åœ°ç‚¹ç‚¹å¤´ï¼Œè¿™æ˜¯å°æ˜ç¬¬ä¸€æ¬¡é‡åˆ°Gité—®é¢˜ã€‚æˆ‘æƒ³ï¼Œæ¥ä¸‹æ¥ä»–åº”è¯¥ä¼šæ¯”è¾ƒé¡ºåˆ©äº†ã€‚ æ²¡æƒ³åˆ°ï¼Œè¿‡äº†å‡ å¤©ï¼Œæˆ‘åˆæ”¶åˆ°äº†å°æ˜çš„æ¶ˆæ¯ã€‚è¿™ä¸€æ¬¡ï¼Œä»–å‘æ¥çš„æ˜¯å¯¹Gitçš„æŠ±æ€¨ã€‚ â€œé”‹å“¥ï¼ŒGitå¥½è®¨åŒï¼Œæäº¤æ—¥å¿—å‡ºç°äº†é”™è¯¯ï¼Œä¹Ÿä¸èƒ½ä¿®æ”¹ã€‚ä½ çŸ¥é“æœç‹—è¾“å…¥æ³•æœ‰æ—¶å€™ä¸å¤Ÿæ™ºèƒ½ï¼Œè¾“å…¥å¤ªå¿«ä¸å°å¿ƒå°±è¾“é”™äº†â€¦ğŸ˜“â€ â€œğŸ™‚ï¼Œä½ è¿™å­©å­ï¼Œåˆ«è½»æ˜“ä¸‹ç»“è®ºå“ˆã€‚å…¶å®ï¼ŒGitæ˜¯å…è®¸ä¿®æ”¹æäº¤è®°å½•çš„ã€‚ä½¿ç”¨Gitæœ€èˆ’æœçš„ä¸€ç‚¹å°±æ˜¯ï¼šGitæ°¸è¿œéƒ½ä¼šç»™ä½ åæ‚”çš„æœºä¼šã€‚è¿™ä¸€ç‚¹ï¼Œå…¶å®ƒçš„ç‰ˆæœ¬æ§åˆ¶å·¥å…·æ˜¯åšä¸åˆ°çš„ï¼â€ â€œå“¦ï¼ŒåŸæ¥æ˜¯è¿™æ ·å•Šï¼é‚£å¿«è¯´è¯´çœ‹ï¼Œè¦æ€ä¹ˆåšï¼Ÿâ€ å°æ˜å·²ç»ä¸€å‰¯è¿«ä¸åŠå¾…çš„è¡¨æƒ…äº†ã€‚ â€œgit commitå‘½ä»¤ä¸­æœ‰ä¸€ä¸ªå‚æ•°å«--amendå°±æ˜¯ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜è€Œç”Ÿçš„ã€‚å› æ­¤ï¼Œå¦‚æœæ˜¯æœ€è¿‘çš„æäº¤ï¼Œä½ åªéœ€è¦æŒ‰ç…§ä¸‹é¢çš„å‘½ä»¤æ“ä½œå³å¯ã€‚â€ 1git commit --amend -m &quot;è¿™æ˜¯æ–°çš„æäº¤æ—¥å¿—&quot; çœ‹å®Œæˆ‘çš„æ¶ˆæ¯ï¼Œå°æ˜ç»™æˆ‘å‘æ¥ä¸€ä¸ªå¾®ç¬‘çš„è¡¨æƒ…ã€‚å°æ˜çš„æŠ±æ€¨è®©æˆ‘æƒ³èµ·ä¸€å¥å¥½æ°”åˆå¥½ç¬‘çš„å†œæ‘ä¿—è¯­ â€œå±™å±ä¸å‡ºæ€ªèŒ…å‘â€ï¼Œå“ˆå“ˆã€‚ æœ¬ä»¥ä¸ºä¸€åˆ‡å¯ä»¥é£å¹³æµªé™äº†ã€‚æ²¡æƒ³åˆ°ï¼Œè¿‡äº†ä¸€ä¸ªæœˆå·¦å³ï¼Œçªç„¶æ¥åˆ°äº†å°æ˜çš„ç´§æ€¥ç”µè¯ã€‚ç”µè¯é‚£å¤´ï¼Œå°æ˜ä¼¼ä¹å¿ƒæƒ…å¾ˆæ€¥èºã€‚ â€œé”‹å“¥ï¼Œæˆ‘ä¸å°å¿ƒè¿›è¡Œäº†è¿˜åŸæ“ä½œï¼Œæˆ‘å†™çš„ä»£ç å…¨ä¸¢äº†ã€‚å‡ åƒè¡Œçš„ä»£ç å•Šï¼Œæ˜å¤©æ™šä¸Šå°±è¦å‘ç‰ˆæœ¬äº†ï¼Œæœ‰åŠæ³•æ‰¾å›æ¥å—ï¼Ÿâ€ å¬åˆ°è¿™ä¸ªæ¶ˆæ¯ï¼Œæˆ‘å¿ƒé‡Œç›˜ç®—ï¼Œå¤§çº¦æœ‰50%çš„æ¦‚ç‡åº”è¯¥æ˜¯æ‰¾ä¸å›æ¥äº†ã€‚è¿™å­©å­æ¯”è¾ƒç²—å¿ƒï¼Œå¯èƒ½æ ¹æœ¬å°±æ²¡æäº¤åˆ°ç‰ˆæœ¬åº“ã€‚ä½†å¦‚æœä»–æ­£å¥½æäº¤åˆ°äº†ç‰ˆæœ¬åº“ï¼Œå…´è®¸è¿˜æœ‰æ•‘ã€‚å› æ­¤ï¼Œæˆ‘å®‰æ…°ä»–è¯´ â€œå°æ˜ï¼Œåˆ«æ€¥ï¼ä½ æ‰“å¼€TeamViewerï¼Œæˆ‘è¿œç¨‹å¸®ä½ çœ‹çœ‹â€ è¿ä¸Šæœºå™¨åï¼Œæˆ‘ä½¿ç”¨historyå‘½ä»¤çœ‹åˆ°å°æ˜åœ¨æäº¤ä¹‹åä½¿ç”¨äº†git reset --hard xxxå‘½ä»¤è¿›è¡Œé‡ç½®ã€‚--hardæ˜¯git resetå‘½ä»¤ä¸­å”¯ä¸€ä¸€ä¸ªä¸å®‰å…¨çš„æ“ä½œï¼Œå®ƒä¼šçœŸæ­£åœ°é”€æ¯æ•°æ®ï¼Œä»¥è‡³äºä½ åœ¨git logä¸­å®Œå…¨çœ‹ä¸åˆ°æ“ä½œæ—¥å¿—ã€‚å¯æ˜¯ï¼ŒGitçœŸçš„å¾ˆèªæ˜ï¼Œå®ƒè¿˜ä¿å­˜äº†å¦å¤–ä¸€ä»½æ—¥å¿—å«reflogï¼Œè¿™ä¸ªæ—¥å¿—è®°å½•äº†ä½ æ¯æ¬¡ä¿®æ”¹HEADçš„æ“ä½œã€‚å› æ­¤ï¼Œä½ å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤å¯¹æ•°æ®è¿›è¡Œè¿˜åŸï¼š12345678git reflog// ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼Œä½ çœ‹åˆ°çš„æ—¥å¿—å¤§æ¦‚æ˜¯è¿™æ ·c8278f9 (HEAD -&gt; master) HEAD@&#123;0&#125;: reset: moving to c8278f9914a91e3aca6ab0993b48073ba1e41b2b3e59423 HEAD@&#123;1&#125;: commit: ac8278f9 (HEAD -&gt; master) HEAD@&#123;2&#125;: commit (amend): v2 update2dc167b HEAD@&#123;3&#125;: commit: v22e342e9 HEAD@&#123;4&#125;: commit (initial): Init commit å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åœ¨ç‰ˆæœ¬3e59423è¿›è¡Œäº†git resetæ“ä½œï¼Œæœ€æ–°ç‰ˆæœ¬æ˜¯3e59423ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å†æ¬¡é€šè¿‡git resetå‘½ä»¤å›åˆ°è¿™ä¸ªç‰ˆæœ¬ï¼š1git reset --hard 3e59423 ä»¥ä¸Šæ“ä½œå®Œæˆåï¼Œä½ ä¼šæƒŠå–œåœ°å‘ç°ï¼Œä¸¢å¤±çš„æ•°æ®å±…ç„¶ç¥å¥‡èˆ¬åœ°å›æ¥äº†ã€‚ â€œè°¢è°¢é”‹å“¥ï¼ï¼ï¼ğŸŒº ğŸŒº ğŸŒºâ€ â€œä¸‹æ¬¡åˆ«è¿™æ ·æ“ä½œäº†å“ˆã€‚å¦å¤–ï¼Œä½ æ€ä¹ˆä¸€æ¬¡æ€§ä¸¢å¤±è¿™ä¹ˆå¤šä»£ç ã€‚ä¸€å®šè¦è®°å¾—å‹¤æäº¤ã€‚â€ å°æ˜å‡ºç°è¿™æ ·çš„é—®é¢˜ï¼Œä¸å¹³æ—¶çš„ä¸è§„èŒƒæ“ä½œä¹Ÿæ˜¯åˆ†ä¸å¼€çš„ã€‚å› æ­¤ï¼Œæœ€åæˆ‘è¿˜ä¸å¿˜å˜±å’äº†ä»–ä¸€å¥ã€‚ â€œå¥½çš„ï¼Œæˆ‘çŸ¥é“äº†ã€‚å¯¹äº†ï¼Œæˆ‘ä¸€ä¸ªè¿˜æœ‰æ¯”è¾ƒç–‘æƒ‘çš„é—®é¢˜ã€‚git checkoutå’Œgit resetåˆ°åº•æœ‰å•¥åŒºåˆ«ï¼Ÿæˆ‘ä»¥å‰ç”¨SVNçš„æ—¶å€™git checkoutæ˜¯ç”¨æ¥æ£€å‡ºä»£ç çš„ï¼Œåœ¨Gitä¸­å¯ä»¥ç”¨å®ƒåˆ‡æ¢åˆ†æ”¯æˆ–è€…æŒ‡å®šç‰ˆæœ¬ï¼Œä½†git resetåŒæ ·å¯ä»¥åšåˆ°ã€‚éš¾é“ä¸¤è€…æ˜¯å®Œå…¨ä¸€æ ·çš„å—ï¼Ÿâ€ å°æ˜åœ¨QQä¸­ç»™æˆ‘å‘æ¥äº†å›å¤æ¶ˆæ¯ã€‚ â€œè¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒæœ‰æ·±åº¦çš„é—®é¢˜ï¼Œè§£é‡Šè¿™ä¸ªé—®é¢˜éœ€è¦ä¸€ç‚¹æ—¶é—´ã€‚æ¥ä¸‹æ¥ï¼Œä½ ä»”ç»†å¬â€ ç†è§£Gitå·¥ä½œç©ºé—´ç†è§£è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œå…ˆæ¥ç®€å•å­¦ä¹ ä¸€äº›GitåŸºç¡€çŸ¥è¯†ã€‚Gitæœ‰ä¸‰ç§çŠ¶æ€ï¼š å·²æäº¤ï¼ˆcommitedï¼‰ï¼šæ•°æ®å·²å®Œå…¨ä¿å­˜åˆ°æœ¬åœ°æ•°æ®åº“ä¸­ å·²ä¿®æ”¹ï¼ˆmodifiedï¼‰ï¼šä¿®æ”¹äº†æ–‡ä»¶ï¼Œä½†è¿˜æ²¡æœ‰ä¿å­˜åˆ°æ•°æ®åº“ä¸­ å·²æš‚å­˜ï¼ˆstaged)ï¼šå¯¹ä¸€ä¸ªå·²ä¿®æ”¹çš„æ–‡ä»¶åšäº†æ ‡è®°ï¼Œå°†åŒ…å«åœ¨ä¸‹ä¸€æ¬¡æäº¤çš„ç‰ˆæœ¬å¿«ç…§ä¸­ è¿™ä¸‰ç§çŠ¶æ€å¯¹åº”Gitä¸‰ä¸ªå·¥ä½œåŒºåŸŸï¼šGitç‰ˆæœ¬åº“ã€æš‚å­˜åŒºå’Œå·¥ä½œåŒº Gitç‰ˆæœ¬åº“æ˜¯Gitç”¨æ¥ä¿å­˜é¡¹ç›®çš„å…ƒæ•°æ®å’Œå¯¹è±¡æ•°æ®åº“çš„åœ°æ–¹ï¼Œä½¿ç”¨git cloneå‘½ä»¤æ—¶æ‹·è´çš„å°±æ˜¯è¿™é‡Œçš„æ•°æ®ã€‚ å·¥ä½œç›®å½•æ˜¯å¯¹æŸä¸ªç‰ˆæœ¬ç‹¬ç«‹æ£€å‡ºçš„å†…å®¹ï¼Œè¿™äº›æ•°æ®å¯ä»¥ä¾›ä½ ä½¿ç”¨å’Œä¿®æ”¹ã€‚ æš‚å­˜åŒºåœ¨Gitå†…éƒ¨å¯¹åº”ä¸€ä¸ªåä¸ºindexçš„æ–‡ä»¶ï¼Œå®ƒä¿å­˜äº†ä¸‹æ¬¡å°†è¦æäº¤çš„æ–‡ä»¶åˆ—è¡¨ä¿¡æ¯ã€‚å› æ­¤ï¼Œæš‚å­˜åŒºæœ‰æ—¶å€™ä¹Ÿè¢«å«ä½œ â€œç´¢å¼•â€ã€‚ ä¸€ä¸ªåŸºç¡€çš„Gitå·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š1ï¼‰åœ¨å·¥ä½œåŒºä¿®æ”¹æ–‡ä»¶2ï¼‰ä½¿ç”¨git addå°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œä¹Ÿå°±æ˜¯è®°å½•åˆ°indexæ–‡ä»¶ä¸­3ï¼‰ä½¿ç”¨git commitå°†æš‚å­˜åŒºä¸­è®°å½•çš„æ–‡ä»¶åˆ—è¡¨ï¼Œä½¿ç”¨å¿«ç…§æ°¸ä¹…åœ°ä¿å­˜åˆ°Gitç‰ˆæœ¬åº“ä¸­ ç†è§£HEADè§£é‡Šè¿™ä¸ªé—®é¢˜ï¼Œä½ è¿˜éœ€è¦ç®€å•ç†è§£HEADæ˜¯ä»€ä¹ˆã€‚ç®€å•æ¥è¯´ï¼ŒHEADæ˜¯å½“å‰åˆ†æ”¯å¼•ç”¨çš„æŒ‡é’ˆï¼Œå®ƒæ°¸è¿œæŒ‡å‘è¯¥åˆ†æ”¯ä¸Šæœ€åä¸€æ¬¡æäº¤ã€‚ä¸ºäº†è®©ä½ æ›´å®¹æ˜“ç†è§£HEADï¼Œä½ å¯ä»¥å°†HEADçœ‹ä½œä¸Šä¸€æ¬¡æäº¤æ•°æ®çš„å¿«ç…§ã€‚ å¦‚æœä½ æ„Ÿå…´è¶£ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªåº•å±‚å‘½ä»¤æ¥æŸ¥çœ‹å½“å‰HEADçš„å¿«ç…§ä¿¡æ¯:1234567git ls-tree -r HEAD100644 blob aca4b576b7d4534266cb818ab1191d91887508b9 demo/src/main/java/com/youngfeng/snake/demo/Constant.java100644 blob b8691ec87867b180e6ffc8dd5a7e85747698630d demo/src/main/java/com/youngfeng/snake/demo/SnakeApplication.java100644 blob 9a70557b761171ca196196a7c94a26ebbec89bb1 demo/src/main/java/com/youngfeng/snake/demo/activities/FirstActivity.java100644 blob fab8d2f5cb65129df09185c5bd210d20484154ce demo/src/main/java/com/youngfeng/snake/demo/activities/SecondActivity.java100644 blob a7509233ecd8fe6c646f8585f756c74842ef0216 demo/src/main/java/com/youngfeng/snake/demo/activities/SplashActivity.java è¿™é‡Œç®€å•è§£é‡Šä¸€ä¸‹æ¯ä¸ªå­—æ®µçš„æ„æ€ï¼š100644è¡¨ç¤ºæ–‡ä»¶æ¨¡å¼ï¼Œå…¶å¯¹åº”ä¸€ä¸ªæ™®é€šæ–‡ä»¶ã€‚blobè¡¨ç¤ºGitå†…éƒ¨å­˜å‚¨å¯¹è±¡æ•°æ®ç±»å‹ï¼Œå¦å¤–è¿˜æœ‰ä¸€ç§æ•°æ®ç±»å‹treeï¼Œå¯¹åº”ä¸€ä¸ªæ ‘å¯¹è±¡ï¼Œä¸­é—´è¾ƒé•¿çš„å­—ç¬¦ä¸²å¯¹åº”å½“å‰æ–‡ä»¶çš„SHA-1å€¼ï¼Œè¿™éƒ¨åˆ†ä¸éœ€è¦è®°ä½ï¼Œç®€å•äº†è§£å³å¯ã€‚ æ‰€ä»¥ï¼Œç®€å•æ¥è¯´ï¼ŒHEADå¯¹åº”ä¸€ä¸ªæ ‘å½¢ç»“æ„ï¼Œå­˜å‚¨äº†å½“å‰åˆ†æ”¯æ‰€æœ‰çš„Gitå¯¹è±¡å¿«ç…§ï¼š æˆ‘ä»¬ç”¨ä¸€ä¸ªè¡¨æ ¼ç®€å•æ¥æ€»ç»“ä¸€ä¸‹ä»¥ä¸ŠçŸ¥è¯†ç‚¹ï¼š HEAD Index(æš‚å­˜åŒº) å·¥ä½œåŒº ä¸Šä¸€æ¬¡æäº¤çš„å¿«ç…§ï¼Œä¸‹ä¸€æ¬¡æäº¤çš„çˆ¶èŠ‚ç‚¹ é¢„æœŸçš„ä¸‹ä¸€æ¬¡æäº¤å¿«ç…§ å½“å‰æ­£åœ¨æ“ä½œçš„æ²™ç›’ç›®å½• ç†è§£git resetå’Œgit checkoutåŒºåˆ«ä¸»è¦æ˜¯ç†è§£Gitå†…éƒ¨æ˜¯æ€ä¹ˆæ“ä½œä»¥ä¸Šä¸‰æ£µæ ‘çš„ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥çœ‹ä¸€ä¸‹ä½¿ç”¨git resetåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆã€‚å…ˆåˆ›å»ºä¸€ä¸ªGitç‰ˆæœ¬åº“å¹¶è§¦å‘ä¸‰æ¬¡æäº¤ï¼š123456789101112git init repotouch file.txtgit add file.txtgit commit -m &quot;v1&quot;echo v2 &gt; file.txtgit add file.txtgit commit -m &quot;v2&quot;echo v3 &gt; file.txtgit add file.txtgit commit -m &quot;v3&quot; ä»¥ä¸Šæ“ä½œå®Œæˆåï¼Œç‰ˆæœ¬åº“ç°åœ¨çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š æ¥ä¸‹æ¥æ‰§è¡Œå‘½ä»¤git reset 14ad152çœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚ä»¥ä¸‹æ˜¯å‘½ä»¤æ‰§è¡Œå®Œæˆåçœ‹åˆ°çš„ç»“æœï¼š123456789101112git log --abbrev-commit --pretty=oneline### This is output ###14ad152 (HEAD -&gt; master) v2bcc49f4 v1git status -s### This is output ### M file.txtcat file.txt### This is output ###v3 å¯ä»¥çœ‹åˆ°ç‰ˆæœ¬åº“ä¸­æ–‡ä»¶ç‰ˆæœ¬å›é€€åˆ°äº†V2ï¼Œå·¥ä½œåŒºæ–‡ä»¶å†…å®¹åŒä¹‹å‰çš„ç‰ˆæœ¬V3ä¸€è‡´ï¼›ä¸ºäº†ç¡®è®¤æš‚å­˜åŒºå‘ç”Ÿäº†ä»€ä¹ˆå˜åŒ–ï¼Œæˆ‘ä»¬å†ä½¿ç”¨ä¸€ä¸ªåº•å±‚å‘½ä»¤å¯¹æ¯”ä¸€ä¸‹æš‚å­˜åŒºæ•°æ®å’Œç‰ˆæœ¬åº“æ•°æ®æ˜¯å¦ä¸€è‡´ï¼š123456789# æŸ¥çœ‹æš‚å­˜åŒºä¿¡æ¯git ls-files -s### This is output ###100644 8c1384d825dbbe41309b7dc18ee7991a9085c46e 0 file.txt# æŸ¥çœ‹ç‰ˆæœ¬åº“å¿«ç…§ä¿¡æ¯git ls-tree -r HEAD### This is output ###100644 blob 8c1384d825dbbe41309b7dc18ee7991a9085c46e file.txt å¯ä»¥çœ‹åˆ°å½“å‰ç‰ˆæœ¬åº“å’Œæš‚å­˜åŒºä¿¡æ¯æ˜¯å®Œå…¨ä¸€è‡´çš„ï¼ŒHEADæŒ‡å‘äº†v2æäº¤ï¼Œç”¨ä¸€ä¸ªå›¾å½¢æ¥è¡¨ç¤ºæ•´ä¸ªè¿‡ç¨‹ï¼Œåº”è¯¥æ˜¯è¿™æ ·ï¼š çœ‹ä¸€çœ¼ä¸Šå›¾ï¼Œç†è§£ä¸€ä¸‹åˆšåˆšå‘ç”Ÿçš„äº‹æƒ…ï¼šé¦–å…ˆï¼ŒHEADæŒ‡é’ˆå‘ç”Ÿäº†ç§»åŠ¨ï¼ŒæŒ‡å‘äº†V2ï¼Œå¹¶æ’¤é”€äº†ä¸Šä¸€æ¬¡æäº¤ã€‚ç›®å‰ï¼Œç‰ˆæœ¬åº“å’Œæš‚å­˜åŒºéƒ½ä¿å­˜çš„æ˜¯ç¬¬äºŒæ¬¡æäº¤çš„è®°å½•ï¼Œå·¥ä½œåŒºå´ä¿å­˜äº†æœ€è¿‘ä¸€æ¬¡ä¿®æ”¹ã€‚ç¨å¾®è”æƒ³ä¸€ä¸‹ï¼Œä½ å°±ä¼šå‘ç°ï¼Œè¿™æ¬¡çš„git resetå‘½ä»¤æ°å¥½æ˜¯æœ€è¿‘ä¸€æ¬¡æäº¤çš„é€†å‘æ“ä½œã€‚è®©æ•°æ®å®Œå…¨å›åˆ°äº†ä¸Šä¸€æ¬¡æäº¤å‰çš„çŠ¶æ€ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ æƒ³æ’¤é”€æœ€è¿‘ä¸€æ¬¡æäº¤ï¼Œå¯ä»¥è¿™ä¹ˆåšã€‚ å¢åŠ â€“softå‚æ•°æµ‹è¯•ä»¥ä¸Šæ˜¯æˆ‘ä»¬å¯¹git resetå‘½ä»¤çš„ç¬¬ä¸€æ¬¡å°è¯•ï¼Œåœ¨ä¸‹ä¸€è½®å°è¯•å‰ï¼Œå…ˆæ‰§è¡Œgit help resetçœ‹çœ‹resetå‘½ä»¤çš„ç”¨æ³•ï¼š123git reset [-q] [&lt;tree-ish&gt;] [--] &lt;paths&gt;...git reset (--patch | -p) [&lt;tree-ish&gt;] [--] [&lt;paths&gt;...]git reset [--soft | --mixed [-N] | --hard | --merge | --keep] [-q] [&lt;commit&gt;] çœ‹æœ€åä¸€å¥å‘ç°ï¼Œresetå‘½ä»¤åé¢è¿˜å¯ä»¥æ¥5ä¸ªä¸åŒçš„å‚æ•°: --softã€--mixedã€--hard ã€--mergeã€--keepã€‚è¿™é‡Œæˆ‘ä»¬ä¸»è¦å…³æ³¨å‰é¢ä¸‰ä¸ªï¼Œå…¶ä¸­--mixedå…¶å®åˆšåˆšå·²ç»å°è¯•è¿‡ï¼Œå®ƒå’Œä¸å¸¦å‚æ•°çš„git resetå‘½ä»¤æ˜¯åŒæ ·çš„æ•ˆæœã€‚æ¢è€Œè¨€ä¹‹ï¼Œ--mixedæ˜¯git resetå‘½ä»¤çš„é»˜è®¤è¡Œä¸ºã€‚æ¥ä¸‹æ¥æ‰§è¡Œgit reset --soft 14ad152çœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚å‘½ä»¤æ‰§è¡Œå®Œæˆåï¼ŒæŒ‰ç…§æƒ¯ä¾‹ï¼Œæˆ‘ä»¬åŒæ ·ä½¿ç”¨åŸºç¡€å‘½ä»¤çœ‹çœ‹å‘ç”Ÿäº†ä»€ä¹ˆå˜åŒ–ï¼š123456789101112git log --abbrev-commit --pretty=oneline### This is output ###14ad152 (HEAD -&gt; master) v2bcc49f4 v1git status -s### This is output ###M file.txtcat file.txt### This is output ###v3 å¥‡æ€ªäº†ï¼Ÿä¸ºä»€ä¹ˆä¼šå’Œä¸Šæ¬¡ä¸å¸¦ä»»ä½•å‚æ•°çš„æ‰§è¡Œç»“æœå®Œå…¨ä¸€è‡´ï¼Ÿéš¾é“Gitå‡ºç°äº†è®¾è®¡é”™è¯¯ã€‚ç›¸ä¿¡ä½ çœ‹åˆ°ç»“æœä¸€å®šä¼šæœ‰è¿™æ ·çš„ç–‘é—®ï¼Œå…¶å®ä¸ç„¶ï¼å› ä¸ºï¼Œè¿™é‡Œæˆ‘ç”¨æ–‡æœ¬ç²˜è´´äº†è¾“å‡ºç»“æœï¼Œå¿½ç•¥äº†å‘½ä»¤çš„å­—ä½“é¢œè‰²ï¼Œå…¶å®è¿™é‡Œç¬¬äºŒæ¡å‘½ä»¤è¾“å‡ºç»“æœä¸­çš„Mé¢œè‰²ä¸ä¸Šä¸€æ¬¡æ‰§è¡Œç»“æœæ˜¯ä¸ä¸€æ ·çš„ã€‚ä¸ºäº†è®©ä½ çœ‹åˆ°ä¸åŒï¼Œçœ‹ä¸‹é¢çš„æˆªå›¾ï¼šè¿™ä¸ªé¢œè‰²è¡¨ç¤ºï¼šfile.txtæ–‡ä»¶å·²ç»è¢«æ·»åŠ åˆ°äº†æš‚å­˜åŒºï¼Œä½¿ç”¨git commitå‘½ä»¤å°±å¯ä»¥å®Œæˆæäº¤ã€‚ä¸ºäº†ä¸¥è°¨ï¼Œæˆ‘ä»¬ä¾ç„¶ä½¿ç”¨ä¸Šé¢çš„åº•å±‚å‘½ä»¤çœ‹çœ‹ç‰ˆæœ¬åº“å’Œæš‚å­˜åŒºä¿¡æ¯æ˜¯å¦ä¸€è‡´ã€‚æ³¨æ„ï¼šè¿™é‡Œçš„ç»“æœåº”è¯¥æ˜¯ä¸ä¸€è‡´æ‰å¯¹ï¼Œå› ä¸ºç‰ˆæœ¬åº“è®°å½•çš„æ–‡ä»¶ç‰ˆæœ¬æ˜¯v2ï¼Œè€Œæš‚å­˜åŒºè®°å½•çš„æ–‡ä»¶ç‰ˆæœ¬å…¶å®æ˜¯v3ã€‚1234567git ls-tree -r HEAD### This is output ###100644 blob 8c1384d825dbbe41309b7dc18ee7991a9085c46e file.txtgit ls-files -s### This is output ###100644 29ef827e8a45b1039d908884aae4490157bcb2b4 0 file.txt å¯ä»¥çœ‹åˆ°ï¼Œä¸¤ä¸ªå‘½ä»¤æ‰§è¡Œè¾“å‡ºçš„SHA-1å¹¶ä¸ä¸€è‡´ï¼ŒéªŒè¯äº†æˆ‘ä»¬çš„çŒœæƒ³ã€‚ è¿™é‡Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºä¸€ä¸ªç»“è®ºï¼š--softå’Œé»˜è®¤è¡Œä¸º(--mixed)ä¸ä¸€æ ·çš„åœ°æ–¹æ˜¯ï¼š--softä¼šå°†å·¥ä½œåŒºçš„æœ€æ–°æ–‡ä»¶ç‰ˆæœ¬å†åšä¸€æ­¥æ“ä½œï¼Œæ·»åŠ åˆ°æš‚å­˜åŒºã€‚ä½¿ç”¨è¿™ä¸ªå‘½ä»¤å¯ä»¥ç”¨æ¥åˆå¹¶æäº¤ã€‚å³ï¼šå¦‚æœä½ åœ¨æŸä¸€æ¬¡æäº¤ä¸­æœ‰æœªå®Œæˆçš„å·¥ä½œï¼Œè€Œä½ åæ‚”äº†ï¼Œä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤æ’¤é”€æäº¤ï¼Œç­‰å·¥ä½œåšå®Œåç»§ç»­ä¸€æ¬¡æ€§å®Œæˆæäº¤ã€‚ å¢åŠ â€“hardå‚æ•°æµ‹è¯•æ¥ä¸‹æ¥æˆ‘ä»¬å¯¹æœ€åä¸€ä¸ªå‚æ•°è¿›è¡Œæµ‹è¯•ï¼Œè¿™ä¹Ÿæ˜¯å°æ˜åœ¨ä½¿ç”¨è¿‡ç¨‹å‡ºç°é—®é¢˜çš„ä¸€ä¸ªå‚æ•°ã€‚æ‰§è¡Œå‘½ä»¤git reset --hard 14ad152ï¼Œçœ‹çœ‹å‘ç”Ÿäº†ä»€ä¹ˆï¼š1234567891011git log --abbrev-commit --pretty=oneline### This is output ###14ad152 (HEAD -&gt; master) v2bcc49f4 v1git status -s### This is output ###&gt;&gt;&gt; No output &lt;&lt;&lt;cat file.txtv2 æ³¨æ„çœ‹ï¼Œè¿™æ¬¡ä½¿ç”¨git status -så®Œå…¨çœ‹ä¸åˆ°è¾“å‡ºï¼Œè¿™å°±è¯æ˜ï¼šå½“å‰å·¥ä½œåŒºï¼Œæš‚å­˜åŒºï¼Œç‰ˆæœ¬åº“æ•°æ®æ˜¯å®Œå…¨ä¸€è‡´çš„ã€‚æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼Œå‘ç°æ–‡ä»¶å›åˆ°äº†v2ç‰ˆæœ¬ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœä½ çœ‹åˆ°è¿™ç§æƒ…å†µï¼Œä¸€å®šä¼šå“ä¸€è·³ï¼Œä½ æœ€è¿‘ä¸€æ¬¡æäº¤çš„æ•°æ®å±…ç„¶å®Œå…¨ä¸¢å¤±äº†ã€‚çš„ç¡®ï¼Œè¿™æ˜¯Gitå‘½ä»¤ä¸­å°‘æœ‰çš„å‡ ä¸ªçœŸæ­£é”€æ¯æ•°æ®çš„å‘½ä»¤ä¹‹ä¸€ã€‚é™¤éä½ éå¸¸æ¸…æ¥šåœ°çŸ¥é“è‡ªå·±åœ¨åšä»€ä¹ˆï¼Œå¦åˆ™ï¼Œè¯·å°½é‡ä¸è¦ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼ æˆ‘ä»¬ä¾ç„¶ç”¨ä¸€å¼ å›¾ï¼Œå®Œæ•´åœ°æè¿°è¿™ä¸ªå‘½ä»¤åˆ°åº•å‘ä»€ä¹ˆäº†ä»€ä¹ˆï¼š å¯ä»¥çœ‹åˆ°ï¼Œç›¸å¯¹äºé»˜è®¤è¡Œä¸ºï¼Œ--hardå°†å·¥ä½œåŒºçš„æ•°æ®ä¹Ÿè¿˜åŸåˆ°äº†V2ç‰ˆæœ¬ï¼Œä»¥è‡³äºV3ç‰ˆæœ¬çš„æäº¤å·²ç»å®Œå…¨ä¸¢å¤±ã€‚ git checkoutæ¥ä¸‹æ¥çœ‹git checkout, æŒ‰ç…§æƒ¯ä¾‹ï¼Œå…ˆæ‰§è¡Œgit checkout 14ad152çœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆï¼š1234567891011git log --abbrev-commit --pretty=oneline### This is output ###14ad152 (HEAD -&gt; master) v2bcc49f4 v1git status -s### This is output ###&gt;&gt;&gt; No output &lt;&lt;&lt;cat file.txtv2 å¯ä»¥çœ‹åˆ°ï¼Œåˆå‡ºç°äº†ç¥å¥‡çš„ä¸€å¹•ï¼Œè¿™ä¸€æ¬¡git checkoutå‘½ä»¤çš„æ‰§è¡Œç»“æœçš„ç¡®å’Œgit reset --hardå®Œå…¨ä¸€è‡´ã€‚è¿™æ˜¯å¦æ„å‘³ç€ä¸¤è€…å°±æ²¡æœ‰ä»»ä½•åŒºåˆ«äº†å‘¢ï¼Ÿå½“ç„¶ä¹Ÿä¸æ˜¯ã€‚ä¸¥æ ¼æ¥è¯´ï¼Œä¸¤è€…æœ‰ä¸¤ä¸ªâ€œæœ¬è´¨â€çš„åŒºåˆ«ï¼š ç›¸å¯¹è€Œè¨€ï¼Œgit checkoutå¯¹å·¥ä½œç›®å½•æ˜¯å®‰å…¨çš„ï¼Œå®ƒä¸ä¼šå°†å·¥ä½œåŒºå·²ç»ä¿®æ”¹çš„æ–‡ä»¶è¿˜åŸï¼Œgit resetåˆ™ä¸ç®¡ä¸‰ä¸ƒäºŒåä¸€ä¸€è‚¡è„‘å…¨éƒ¨è¿˜åŸã€‚ å¦å¤–ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„åŒºåˆ«æ˜¯ï¼Œgit checkoutå¹¶ä¸ç§»åŠ¨HEADåˆ†æ”¯çš„æŒ‡å‘ï¼Œå®ƒæ˜¯é€šè¿‡ç›´æ¥ä¿®æ”¹HEADå¼•ç”¨æ¥å®ŒæˆæŒ‡é’ˆçš„æŒ‡å‘ã€‚ ç¬¬äºŒä¸ªä¸åŒç‚¹ç›¸å¯¹æ¯”è¾ƒéš¾ç†è§£ï¼Œæˆ‘ä»¬ç”¨ä¸€å¼ å›¾æ¥æ›´ç›´è§‚åœ°å±•ç¤ºäºŒè€…çš„åŒºåˆ«ï¼š ç®€å•æ¥è¯´ï¼Œgit resetä¼šé€šè¿‡ç§»åŠ¨æŒ‡é’ˆæ¥å®ŒæˆHEADçš„æŒ‡å‘ï¼Œè€Œgit checkoutåˆ™é€šè¿‡ç›´æ¥ä¿®æ”¹HEADæœ¬èº«æ¥å®ŒæˆæŒ‡å‘çš„ç§»åŠ¨ã€‚ å‘½ä»¤ä½œç”¨äºéƒ¨åˆ†æ–‡ä»¶git resetå’Œgit checkoutè¿˜å¯ä»¥ä½œç”¨äºä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ–è€…éƒ¨åˆ†æ–‡ä»¶ï¼Œå³å¸¦æ–‡ä»¶è·¯å¾„æ‰§è¡Œã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä¸¤ä¸ªå‘½ä»¤çš„è¡¨ç°ä¸å¤ªä¸€æ ·ã€‚æˆ‘ä»¬æ¥è¯•è¯•çœ‹ï¼Œå…ˆæ‰§è¡Œgit reset 14ad15 -- file.txtå‘½ä»¤å°è¯•å°†æ–‡ä»¶æ¢å¤åˆ°V2ç‰ˆæœ¬ã€‚å‘½ä»¤æ‰§è¡Œå®Œæˆï¼ŒæŒ‰ç…§æƒ¯ä¾‹ç”¨ä¸€äº›åŸºç¡€å‘½ä»¤æ¥çœ‹çœ‹å‘ç”Ÿäº†ä»€ä¹ˆï¼š123456789101112131415161718git log --abbrev-commit --pretty=oneline### This is output ###4521405 (HEAD -&gt; master) v314ad152 v2bcc49f4 v1git status -v### This is output ###diff --git a/file.txt b/file.txtindex 29ef827..8c1384d 100644--- a/file.txt+++ b/file.txt@@ -1 +1 @@-v3+v2cat file.txtv3 å¯ä»¥çœ‹åˆ°ï¼Œç‰ˆæœ¬åº“å’Œå·¥ä½œåŒºçš„æ•°æ®éƒ½æ²¡æœ‰å‘ç”Ÿå˜åŒ–ã€‚å”¯ä¸€å‘ç”Ÿå˜åŒ–çš„æ˜¯æš‚å­˜åŒºï¼Œæš‚å­˜åŒºè®°å½•ä¸‹ä¸€æ¬¡æäº¤çš„æ”¹åŠ¨å°†å¯¼è‡´æ•°æ®ä»V3æ¢å¤åˆ°V2ç‰ˆæœ¬! è¿™é‡Œæˆ‘ä»¬å¯ä»¥è¿™æ ·ç†è§£ï¼šæ‰§è¡Œè¿™æ¡å‘½ä»¤åï¼ŒGitå…ˆå°†æš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„æ–‡ä»¶ç‰ˆæœ¬æ¢å¤åˆ°V2ï¼Œå†å°†å·¥ä½œåŒºçš„æ–‡ä»¶ç‰ˆæœ¬æ¢å¤åˆ°V3ã€‚ä¸--hardä¸ä¸€æ ·çš„åœ°æ–¹æ˜¯ï¼šè¿™ä¸ªå‘½ä»¤å¹¶ä¸ä¼šè¦†ç›–å·¥ä½œåŒºå·²ç»ä¿®æ”¹çš„æ–‡ä»¶ï¼Œæ˜¯å®‰å…¨æ“ä½œã€‚ æ‰§è¡Œå¸¦è·¯å¾„çš„git checkoutå‘½ä»¤å’Œgit resetå‘½ä»¤æœ‰ä¸€äº›ç»†å¾®çš„å·®åˆ«ï¼Œç›¸å¯¹äºgit resetï¼Œgit checkoutå¸¦è·¯å¾„æ‰§è¡Œä¼šè¦†ç›–å·¥ä½œåŒºå·²ç»ä¿®æ”¹çš„å†…å®¹ï¼Œå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼Œæ˜¯ä¸€ä¸ªéå®‰å…¨æ“ä½œã€‚ é’ˆå¯¹ä¸Šé¢çš„æ‰€æœ‰å®éªŒï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªç®€å•çš„è¡¨æ ¼æ¥æ€»ç»“ä»–ä»¬çš„åŒºåˆ«ï¼Œä»¥åŠæ“ä½œæ˜¯å¦å®‰å…¨ï¼š ä¸å¸¦è·¯å¾„æ‰§è¡Œ å‘½ä»¤è¡Œ HEAD æš‚å­˜åŒº å·¥ä½œåŒº ç›®å½•å®‰å…¨ git reset [â€“mixed] YES YES NO YES git reset â€“soft YES YES NO YES git reset â€“hard YES YES YES NO git checkout Modify YES YES YES å¸¦è·¯å¾„æ‰§è¡Œ å‘½ä»¤è¡Œ HEAD æš‚å­˜åŒº å·¥ä½œåŒº ç›®å½•å®‰å…¨ git reset â€“ NO YES NO YES git checkout NO YES YES NO â€œå°æ˜ï¼Œä½ æ˜ç™½äº†å—ï¼Ÿâ€ æ¶ˆæ¯å‘é€è¿‡å»ä¹‹åï¼Œç­‰äº†å¾ˆä¹…å´ä¸€ç›´æ²¡æœ‰å“åº”ã€‚â€œå“ï¼Œè¿™å­©å­ï¼ä¼°è®¡å¬ç¡ç€äº†â€¦ ğŸ˜†â€ è‡ªä»è¿™æ¬¡é—®åˆ°Gitçš„é—®é¢˜åï¼Œå·²ç»ä¸¤å¹´è¿‡å»äº†ï¼Œå°æ˜å†æ²¡æœ‰é—®åˆ°å…³äºGitçš„é—®é¢˜ã€‚è€Œå°±åœ¨æ˜¨å¤©ï¼Œçªç„¶åˆæ”¶åˆ°äº†å°æ˜çš„æ¶ˆæ¯ã€‚ ä¹Ÿè®¸ä½ åº”è¯¥è¯•è¯•Git Flowâ€œé”‹å“¥ï¼Œæˆ‘ç°åœ¨å·²ç»æ˜¯Android Leaderäº†ã€‚ç°åœ¨å®‰å“å›¢é˜Ÿä¸€å…±6ä¸ªäººï¼Œæˆ‘ä»¬ç°åœ¨åœ¨åšä¸€ä¸ªç¤¾äº¤ç±»åº”ç”¨ï¼Œåœ¨Gitç®¡ç†æ–¹é¢æˆ‘è¿˜æ˜¯å‘ç°äº†ä¸€äº›é—®é¢˜ã€‚å…¶ä¸­ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œç°åœ¨ç‰ˆæœ¬åº“æœ‰å¥½å¤šåˆ†æ”¯ï¼Œå…¶ä¸­å¼€å‘ä¸»è¦åœ¨developåˆ†æ”¯ã€‚ä¸»å¹²åˆ†æ”¯æ˜¯masterä¸»è¦ç”¨äºç‰ˆæœ¬å‘å¸ƒã€‚å¯è¿˜æœ‰ä¸€äº›åˆ†æ”¯å´æ˜¾å¾—éå¸¸æ··ä¹±ï¼Œæœ‰ä»€ä¹ˆåŠæ³•æ”¹å–„è¿™ç§æƒ…å†µå—ï¼Ÿâ€ â€œå…³äºGitçš„åˆ†æ”¯è®¾è®¡ï¼Œç›®å‰æœ‰ä¸€ä¸ªå…¬è®¤æ¯”è¾ƒå¥½çš„è®¾è®¡å« Git Flowæ¨¡å‹ã€‚å…³äºGit Flowæ¨¡å‹ï¼Œä½ å¯ä»¥æŸ¥çœ‹è¿™ç¯‡æ–‡ç«  http://nvie.com/posts/a-successful-git-branching-model/ äº†è§£ä¸€ä¸‹â€ ä¸€ä¸ªideaï¼Œä¸€æ¬¡æäº¤â€œå¥½çš„ï¼è¿˜æœ‰ä¸€ä¸ªå›°æ‰°äº†æˆ‘å¾ˆä¹…çš„é—®é¢˜æ˜¯ï¼Œå¤§å®¶çš„æäº¤æ—¥å¿—å†™çš„æ¯”è¾ƒç¬¼ç»Ÿã€‚åœ¨æŸ¥æ‰¾é—®é¢˜çš„æ—¶å€™éå¸¸ä¸ä¾¿ï¼Œè€Œä¸”å¤§éƒ¨åˆ†åŒå­¦ä¸€æ¬¡æ€§æäº¤å¥½å¤šæ–‡ä»¶ï¼Œå¯¼è‡´è§£å†³é—®é¢˜çš„æ—¶å€™ä¸èƒ½å‡†ç¡®å®šä½åˆ°å…·ä½“æ˜¯å“ªä¸€æ¬¡æäº¤å¯¼è‡´çš„ã€‚æˆ‘å‘Šè¯‰å¤§å®¶ï¼Œä¸€æ¬¡æäº¤æ”¹åŠ¨è¦å°½å¯èƒ½å°ã€‚ä½†å½“åˆ«äººé—®åˆ°å…·ä½“çš„æäº¤è§„åˆ™çš„æ—¶å€™æˆ‘åˆä¸çŸ¥é“ä»ä½•è¯´èµ·â€¦â€ â€œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é—®é¢˜ ã€‚ä¸­å›½ç¨‹åºå‘˜æ™®éå­˜åœ¨çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œæ¨ä¸å¾—æŠŠè¿™è¾ˆå­èƒ½æäº¤çš„ä»£ç ä¸€æ¬¡æ€§æå®šã€‚ç”šè‡³æœ‰äººç”¨å¤šæ¬¡æäº¤å¤ªéº»çƒ¦çš„å€Ÿå£æ¥æªå¡é—®è´£äººã€‚ç®€å•æ¥è¯´ï¼Œå¯ä»¥ç”¨ä¸€å¥è¯æ¦‚æ‹¬æäº¤åŸåˆ™ï¼šä¸€ä¸ªideaï¼Œä¸€æ¬¡æäº¤ã€‚å¦å¤–ï¼Œä½ è¯´çš„æ²¡é”™ï¼Œæäº¤å¿…é¡»å°½å¯èƒ½å°ï¼Œæ³¨é‡Šå¿…é¡»å°½å¯èƒ½è¡¨è¿°å‡†ç¡®ï¼â€ ç»™å°æ˜è®²äº†è¿™ä¹ˆå¤šGitï¼Œæˆ‘å¿ä¸ä½åŠå¼€ç©ç¬‘åœ°é—®ä»–ï¼Œâ€œå°æ˜ï¼Œä½ ç°åœ¨è¿˜è§‰å¾—Gitç®€å•å—ï¼Ÿâ€ å°æ˜å‘äº†ä¸€ä¸ªæ— å¥ˆçš„è¡¨æƒ…ï¼è¯´é“ï¼Œâ€œä»¥å‰æ˜¯æˆ‘æ‰ç–å­¦æµ…ï¼Œç•¥çŸ¥çš®æ¯›ï¼Œä¸çŸ¥é“GitåŸæ¥è¿˜æœ‰è¿™ä¹ˆå¤šç©æ³•ï¼Œå¿ä¸ä½ä¸ºGitçš„å‘æ˜è€…ç‚¹èµäº†ã€‚å¯¹äº†ï¼Œé”‹å“¥ï¼ŒGitåˆ°åº•æ˜¯è°å¼€å‘çš„ï¼Ÿâ€ Gitçš„æœ€å¤§åŠŸè‡£ï¼Œå…¶å®ä¸æ˜¯Linusâ€å…³äºGitçš„æ•…äº‹ï¼Œäº’è”ç½‘ä¸Šå…¶å®å·²ç»çƒ‚å¤§è¡—äº†ã€‚æˆ‘ç®€å•ç»™ä½ ä»‹ç»ä¸€ä¸‹å§ï¼Gitçš„è¯ç”Ÿå…¶å®æ˜¯ä¸€ä¸ªå¶ç„¶ï¼Œå…¶åˆå§‹ä½¿å‘½æ˜¯ä¸ºLinuxå†…æ ¸ä»£ç ç®¡ç†æœåŠ¡çš„ã€‚æ—©å¹´çš„æ—¶å€™Linuxå†…æ ¸æºç æ˜¯ç”¨Bitkeeperç‰ˆæœ¬æ§åˆ¶å·¥å…·ç®¡ç†çš„ã€‚å¯æ˜¯ï¼Œåæ¥å› ä¸ºæŸäº›åˆ©ç›Šå…³ç³»ï¼ŒBitkeeperè¦æ±‚Linuxç¤¾åŒºä»˜è´¹ä½¿ç”¨ã€‚è¿™ä¸€ä¸¾åŠ¨æ¿€æ€’äº†Linusï¼Œä¹Ÿå°±æ˜¯Linuxçš„åˆ›å§‹äººï¼Œä»–å†³å®šè‡ªå·±å¼€å‘ä¸€ä¸ªåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚å‡ å‘¨æ—¶é—´ä¸‹æ¥ï¼ŒGitçš„é›å½¢å°±è¯ç”Ÿäº†ï¼Œå¹¶ä¸”å¼€å§‹åœ¨Linuxç¤¾åŒºä¸­åº”ç”¨å¼€æ¥ã€‚è™½ç„¶Linusæ˜¯Gitçš„åˆ›å§‹äººï¼Œå¯æ˜¯èƒŒåçš„æœ€å¤§åŠŸè‡£å´æ˜¯ä¸€ä¸ªæ—¥æœ¬äºº Junio C Hamanoã€‚Linusåœ¨Gitå¼€æºç‰ˆæœ¬åº“çš„æäº¤åªæœ‰258æ¬¡ï¼Œè€ŒJunio C Hamanoå´æäº¤äº†4000å¤šæ¬¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨Linuså¼€å‘åä¸ä¹…é¡¹ç›®çš„ç®¡ç†æƒå°±äº¤ç»™äº†è¿™ä¸ªæ—¥æœ¬äººã€‚å…³äº Junio C Hamanoï¼Œä½ æ„Ÿå…´è¶£çš„è¯å¯ä»¥Googleäº†è§£ä¸€ä¸‹ã€‚ä»–ç°åœ¨åœ¨Googleå·¥ä½œï¼Œå¦‚åŒLinusä¸€æ ·éå¸¸ä½è°ƒã€‚â€œ â€œè¿™ä¸ªæ•…äº‹ä¹Ÿå‘Šè¯‰æˆ‘ï¼šä¸è¦ç”¨æŠ€æœ¯å»æŒ‘æˆ˜ä¸€ä¸ªç¨‹åºå‘˜ @_@ â€ è¿™ä¸ªæ•…äº‹è®²å®Œï¼Œå°æ˜ä¸Gitçš„æ•…äº‹å°±å·²ç»å‘Šä¸€æ®µè½äº†ã€‚å…¶å®ï¼Œè¿˜æœ‰ä¸€äº›æ¯”è¾ƒå¸¸è§çš„é—®é¢˜ï¼Œå°æ˜å¹¶æ²¡æœ‰é—®åˆ°è¿‡ã€‚è¿™é‡Œï¼Œæˆ‘ä¸ºä½ å‡†å¤‡äº†ä¸€ä¸ªé™„å½•ï¼Œç»™ä½ ä»‹ç»ä¸€äº›å¸¸ç”¨çš„å°å‘½ä»¤å¸®ä½ è§£å†³æ—¥å¸¸å°é—®é¢˜ã€‚å®ƒå¾ˆæœ‰ç”¨ï¼Œä¸€å®šè¦æ‹¿ç¬”è®°ä¸‹æ¥ï¼Œæˆ–è€…æ”¶è—è¿™ç¯‡æ–‡ç« å¤‡ç”¨ã€‚ å¸¸è§é—®é¢˜é—®é¢˜ä¸€ï¼šå…¬å¸çš„GitæœåŠ¡å™¨æ˜¯æ­å»ºåœ¨ä¸€ä¸ªå†…ç½‘æœåŠ¡å™¨ä¸Šé¢çš„ï¼Œæˆ‘æƒ³æŠŠä»£ç åŒæ—¶æäº¤åˆ°OsChinaä¸Šé¢ï¼Œä»¥ä¾¿åœ¨å®¶æ‹‰å–ä»£ç ï¼Œè¿œç¨‹åŠå…¬ï¼Œæ€ä¹ˆåŠï¼ŸGitæœ¬èº«æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿï¼Œå®ç°è¿™ä¸ªéœ€æ±‚éå¸¸ç®€å•ï¼Œä½¿ç”¨git remote addå‘½ä»¤æ·»åŠ å¤šä¸ªè¿œç¨‹ç‰ˆæœ¬åº“å…³è”å³å¯ã€‚12git remote add company git@xxxgit remote add home git@xxx é—®é¢˜äºŒï¼šåœ¨æ‹‰å–è¿œç¨‹ä»£ç çš„æ—¶å€™ï¼Œå¦‚æœæœ¬åœ°æœ‰ä»£ç è¿˜æ²¡æœ‰æäº¤ï¼ŒGitå°±ä¼šæç¤ºå…ˆæäº¤ä»£ç åˆ°ç‰ˆæœ¬åº“ã€‚å¯æš‚æ—¶æˆ‘åˆä¸æƒ³æäº¤ï¼Œæ€ä¹ˆåŠï¼Ÿé’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼ŒGitæä¾›äº†ä¸€ä¸ªä¸´æ—¶åŒºåŸŸç”¨äºä¿å­˜ä¸æƒ³æäº¤çš„è®°å½•ï¼Œå¯¹åº”çš„å‘½ä»¤æ˜¯git stashã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥è¿™æ ·æ“ä½œï¼š123456789101112# å°†æš‚æ—¶è¿˜ä¸æƒ³æäº¤çš„æ•°æ®ä¿å­˜åˆ°ä¸´æ—¶åŒºåŸŸï¼Œä¿å­˜æˆåŠŸåï¼Œå·¥ä½œåŒºå°†å’Œç‰ˆæœ¬åº“å®Œå…¨ä¸€è‡´git stash# è¿˜åŸstashæ•°æ®åˆ°å·¥ä½œåŒºgit stash apply# ä»¥ä¸Šæ“ä½œå®Œæˆåï¼Œstashæ•°æ®ä¾ç„¶ä¿å­˜åœ¨ä¸´æ—¶åŒºåŸŸä¸­ï¼Œä¸ºäº†åˆ é™¤è¿™éƒ¨åˆ†æ•°æ®ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å³å¯ã€‚git stash drop# å¦‚æœä½ æƒ³åœ¨è¿˜åŸæ•°æ®çš„åŒæ—¶ä»ä¸´æ—¶åŒºåŸŸåˆ é™¤æ•°æ®ï¼Œå¯ä»¥è¿™æ ·æ“ä½œï¼šgit statsh pop# ä»¥ä¸Šä¸¤ä¸ªå‘½ä»¤å¦‚æœä¸æ¥ä»»ä½•å‚æ•°å°†åˆ é™¤æ‰æ‰€æœ‰çš„ä¸´æ—¶åŒºåŸŸæ•°æ®ï¼Œå¦‚æœä½ åªæƒ³åˆ é™¤å…¶ä¸­ä¸€æ¡è®°å½•ï¼ŒæŒ‡å®šå¯¹åº”ç´¢å¼•æ•°æ®å³å¯ã€‚git stash pop/drop stash@&#123;index&#125;# æŸ¥çœ‹ä¸´æ—¶åŒºåŸŸæ‰€æœ‰æ•°æ®ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼šgit stash list é—®é¢˜ä¸‰ï¼šä½œä¸ºé¡¹ç›®è´Ÿè´£äººï¼Œæˆ‘å¸Œæœ›è¿…é€Ÿæ‰¾å‡ºé—®é¢˜ä»£ç çš„â€œå…ƒå‡¶â€ï¼Œæœ‰ä»€ä¹ˆåŠæ³•å—ï¼Ÿé’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œæœ€å¥½çš„ç­”æ¡ˆæ˜¯git blameï¼Œä½¿ç”¨è¿™ä¸ªå‘½ä»¤å¹¶æŒ‡å®šå…·ä½“æ–‡ä»¶å®ƒå°†æ˜¾ç¤ºæ–‡ä»¶æ¯ä¸€è¡Œä»£ç çš„æœ€è¿‘ä¿®æ”¹è®°å½•ï¼Œä½ å¯ä»¥æ¸…æ™°åœ°çœ‹å¾…æœ€è¿‘ä»£ç çš„ä¿®æ”¹äººã€‚ æ€»ç»“Gitæ˜¯ä¸€ä¸ªéå¸¸ä¼˜ç§€çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œæˆ‘æåŠ›æ¨èä½ åœ¨æ—¥å¸¸å¼€å‘ä¸­ä½¿ç”¨ã€‚è¿™ç¯‡æ–‡ç« ä»å°æ˜çš„è§’åº¦è§£é‡Šäº†å‡ ä¸ªå¸¸è§é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œæ¯«æ— æ‚¬å¿µåœ°ï¼Œä½ å¯èƒ½è¿˜ä¼šé‡åˆ°å…¶å®ƒçš„ä¸€äº›é—®é¢˜ã€‚é‡åˆ°é—®é¢˜ï¼Œä½ å¯ä»¥å°è¯•Googleæœç´¢è§£å†³æ–¹æ¡ˆã€‚ä¹Ÿå¯ä»¥åœ¨æ–‡ç« ä¸‹æ–¹ç»™æˆ‘ç•™è¨€ï¼Œæˆ‘éå¸¸ä¹æ„ä¸ºä½ è§£ç­”Gité—®é¢˜ã€‚ æˆ‘æ˜¯æ¬§é˜³é”‹ï¼Œæˆ‘æ„¿ä¸ºä½ éå‰é©¬åï¼ŒåŠ©ä½ å¹³æ­¥é’äº‘ã€‚å¦‚æœä½ å–œæ¬¢æˆ‘çš„æ–‡ç« ï¼Œè¯·åœ¨ä¸‹æ–¹ç•™ä¸‹ä½ çˆ±çš„å°è®°ã€‚å¦‚æœä½ ä¸å–œæ¬¢æˆ‘çš„æ–‡ç« ï¼Œè¯·å…ˆå–œæ¬¢ä¸Šæˆ‘çš„æ–‡ç« ï¼Œç„¶åå†ç•™ä¸‹çˆ±çš„å°è®°ã€‚ ä¸‹æ¬¡æ–‡ç« å†è§ï¼æ‹œæ‹œï¼]]></content>
      <categories>
        <category>å¼€å‘å·¥å…·</category>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>ç‰ˆæœ¬æ§åˆ¶å·¥å…·</tag>
        <tag>å¼€å‘å·¥å…·</tag>
        <tag>å‘½ä»¤è¡Œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¹Ÿè®¸ä½ åº”è¯¥è¯•è¯•ç”¨Kotlinå†™Gradleè„šæœ¬]]></title>
    <url>%2F2018%2F01%2F26%2Fkotlin%2F%E7%94%A8Kotlin%E5%86%99Android-Gradle%E8%84%9A%E6%9C%AC%2F</url>
    <content type="text"><![CDATA[Androidåº”ç”¨å¼€å‘ä¸­ï¼Œç¦»ä¸å¼€Gradleè„šæœ¬çš„æ„å»ºã€‚å¤§éƒ¨åˆ†Androidå¼€å‘åŒå­¦å¿½è§†äº†è„šæœ¬çš„åŠ›é‡ï¼Œç”šè‡³æœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†åŒå­¦ä¸çŸ¥é“Gradleè„šæœ¬æ˜¯ä»€ä¹ˆï¼Œç”¨ä»€ä¹ˆè¯­è¨€ç¼–å†™çš„ï¼›å½“ç„¶ï¼Œä¹Ÿæœ‰ç›¸å½“ä¸€éƒ¨åˆ†åŒå­¦çŸ¥é“Gradleè„šæœ¬æ˜¯ä½¿ç”¨Groovyè¯­è¨€ç¼–å†™çš„ï¼Œä½†å¯¹äºGroovyè¯­è¨€å´ä¸€çªä¸é€šï¼Œåªæ˜¯å‹‰å¼ºå¯ä»¥çœ‹æ‡‚Gradleè„šæœ¬ã€‚æ­£æ‰€è°“ï¼ŒçŸ¥å…¶ç„¶ï¼Œä½†å¹¶ä¸çŸ¥å…¶æ‰€ä»¥ç„¶â€¦ æ¢ä¸ªè§’åº¦çœ‹é—®é¢˜ï¼Œç†Ÿç»ƒæŒæ¡Gradleè„šæœ¬è¿˜éœ€è¦ç²¾é€šGroovyè¯­è¨€ï¼Œè¿™å¯¹Androidå¼€å‘åŒå­¦æ¥è¯´çš„ç¡®æ˜¯ä¸€ä¸ªä¸å°çš„æŒ‘æˆ˜ã€‚è¿™ç§Java + Groovyçš„å¼€å‘å¥—é¤å¯¹äºæ™®é€šçš„Androidå¼€å‘è€…æ¥è¯´çš„ç¡®å­˜åœ¨ä¸€å®šçš„çŸ¥è¯†æ–­å±‚ï¼Œæ˜¾è€Œæ˜“è§çš„æ˜¯ï¼Œéƒ¨åˆ†åŒå­¦å†™çš„Gradleè„šæœ¬ç®€ç›´â€œä¸å ªå…¥ç›®â€ã€‚æ—¶é—´å›åˆ°å»å¹´5æœˆä»½ï¼ŒGoogle IOå¤§ä¼šä¸Šå®£å¸ƒäº†ä¸€ä¸ªé‡ç£…æ¶ˆæ¯ï¼ŒAndroidå®˜æ–¹å¼€å§‹æ”¯æŒä½¿ç”¨Kotlinè¯­è¨€è¿›è¡Œåº”ç”¨å¼€å‘ã€‚å…¶å®ï¼Œåœ¨è¿™ä¸ªæ—¶é—´èŠ‚ç‚¹ä¸Šï¼Œæˆ‘å·²ç»åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨Kotlinå¼€å‘Androidå°†è¿‘ä¸€å¹´ã€‚å¯¹äºæˆ‘æ¥è¯´ï¼Œè¿™æ— ç–‘æ˜¯ä¸€ä¸ªè®©äººæ¬£å–œè‹¥ç‹‚çš„æ¶ˆæ¯ã€‚ä½†ï¼ŒæƒŠå–œè¿˜è¿œè¿œä¸æ­¢è¿™äº›ï¼Œè¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œæˆ‘åˆçœ‹åˆ°äº†è¿™ç¯‡æ–‡ç«  Kotlin Meets Gradleã€‚å¾ˆæœ‰è¯—æ„çš„æ ‡é¢˜ï¼šå½“Gradleé‚‚é€…Kotlinï¼Œæ–‡ç« çš„æ ¸å¿ƒæ„æ€æ˜¯ï¼šGradleå›¢é˜Ÿæ­£åœ¨å°è¯•ä½¿ç”¨Kotlinè¯­è¨€ä½œä¸ºGradleè„šæœ¬çš„å®˜æ–¹å¼€å‘è¯­è¨€ã€‚ æˆ‘æƒ³ï¼Œä¹Ÿè®¸ï¼ŒAndroidå¼€å‘è€…çš„æ˜¥å¤©å°±è¦åˆ°äº†ï¼ Why use Kotlin ?åœ¨å†™Gradleè„šæœ¬çš„æ—¶å€™ï¼Œæœ€ç—›è‹¦çš„è«è¿‡äºæ²¡æœ‰ä»»ä½•æç¤ºï¼Œå”¯ä¸€çš„è°ƒè¯•æ‰‹æ®µå°±æ˜¯ä½¿ç”¨printæ–¹æ³•æ‰“å°è°ƒè¯•æ—¥å¿—ã€‚æ­£å¦‚ Kotlin Meets Gradle æ–‡ä¸­æ‰€è¯´ï¼Œå½“ä½ ä½¿ç”¨Kotlinè¯­è¨€ç¼–å†™Gradleè„šæœ¬çš„æ—¶å€™ï¼Œä½ ä¼šå‘ç°ä¸€åˆ‡éƒ½å˜å¾—æœ‰è¶£èµ·æ¥ã€‚çªç„¶ï¼š è„šæœ¬ä»£ç å¯ä»¥è‡ªåŠ¨è¡¥å…¨äº† æºç ä¹‹é—´å¯ä»¥äº’ç›¸è·³è½¬äº† æ’ä»¶æºç æ›´å®¹æ˜“çœ‹æ‡‚äº† é‡æ„ï¼ˆRefactoringï¼‰ä¹Ÿå¯ä»¥æ”¯æŒäº†â€¦ å½“ç„¶ï¼ŒæƒŠå–œè¿˜ä¸æ­¢è¿™äº›ï¼Œå½“ä½ å¼€å§‹å†³å®šä½¿ç”¨Kotlinè¯­è¨€çš„æ—¶å€™ï¼Œä»¿ä½›ä¸€åˆ‡éƒ½å˜å¾—ç¾å¥½äº†èµ·æ¥ï¼ Letâ€™s startå¥½äº†ï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹å°è¯•ç”¨Kotlinè¯­è¨€ç¼–å†™Gradleè„šæœ¬ã€‚ç”±äºå½“å‰ kotlin-dsl æ­£å¤„äºé¢„å‘å¸ƒçŠ¶æ€ï¼ˆkotlin-dslçš„æœ€æ–°ç‰ˆæœ¬æ˜¯0.14.2ï¼Œå¯¹åº”Gradleæ’ä»¶ç‰ˆæœ¬4.5ï¼‰ï¼ŒIDEçš„æ”¯æŒä¹Ÿä¸å®Œå–„ï¼Œä¸ºäº†æ›´å¥½çš„ä½“éªŒè¯¥åŠŸèƒ½ï¼Œæ¨èå¤§å®¶ä½¿ç”¨å¦‚ä¸‹é…ç½®ï¼š å®éªŒå®¤é…ç½®æ“ä½œç³»ç»Ÿï¼šmacOS 10.13.2Android Studioï¼š 3.1 Canary 9Gradle Wrapperï¼š 4.5Gradle Pluginï¼š 3.1.0-alpha9Kotlinï¼š1.2.21 æ“ä½œæ­¥éª¤é¦–å…ˆï¼ŒæŒ‰ç…§ä»¥å¾€æ­¥éª¤åˆ›å»ºä¸€ä¸ªAndroidå·¥ç¨‹ï¼š æ¥ä¸‹æ¥ï¼Œæ”¹é€ å¼€å§‹ï¼ŒGradle Script Kotlinè„šæœ¬ä»¥.gradle.ktsåç¼€ç»“å°¾ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å…ˆå°†å·¥ç¨‹æ ¹ç›®å½•settings.gradleæ›´åä¸ºsettings.gradle.ktsã€‚ è¿™ä¸ªåœ°æ–¹çš„é”™è¯¯æœ‰ä¸¤ä¸ªåŸå› ï¼š Kotlinè¯­è¨€ä¸­ï¼Œå•å¼•å·åªèƒ½åŒ…è£¹å­—ç¬¦ï¼Œä¸èƒ½åŒ…è£¹å­—ç¬¦ä¸² Kotlinè¯­è¨€ä¸­ï¼Œæ–¹æ³•è°ƒç”¨ä½¿ç”¨æ‹¬å·ã€‚ä»…åœ¨ä½¿ç”¨infixä¿®é¥°çš„æ–¹æ³•ä¸­å¯ä»¥çœç•¥æ‹¬å·ã€‚è¿™é‡Œæ˜¾ç„¶æ˜¯ä¸€ä¸ªæ­£å¸¸è°ƒç”¨æ–¹æ³•ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¿®æ”¹ä¸ºï¼š1include(&quot;app&quot;) æ¥ä¸‹æ¥ï¼Œä¿®æ”¹æ ¹ç›®å½•çš„build.gradleè„šæœ¬ï¼Œç”¨åŒæ ·çš„æ–¹å¼ä¿®æ”¹åç¼€ï¼Œæ–¹æ³•ä¿®æ”¹ä¸ºæ‹¬å·è°ƒç”¨ï¼Œä¿®æ”¹åçš„å†…å®¹å¦‚ä¸‹ï¼š1234567891011121314151617buildscript &#123; repositories &#123; google() jcenter() &#125; dependencies &#123; // è¿™é‡Œä¿®æ”¹ä¸ºæ‹¬å·è°ƒç”¨å³å¯ classpath(&quot;com.android.tools.build:gradle:3.0.1&quot;) &#125;&#125;allprojects &#123; repositories &#123; google() jcenter() &#125;&#125; æ³¨æ„ï¼šåœ¨ä¿®æ”¹åç¼€åç§°çš„æ—¶å€™IDEä¼šå‡ºç°è­¦å‘Šæç¤ºï¼Œè¿™é‡Œå¯ä»¥å¿½ç•¥ï¼Œé€‰æ‹©continueå³å¯ã€‚ ç”±äºæˆ‘ä»¬æ‰‹åŠ¨ä¿®æ”¹äº†build.gradleè„šæœ¬ï¼Œä¸ºäº†ä¿è¯å·¥ç¨‹å¯ä»¥ä½¿ç”¨è¿™ä¸ªè„šæœ¬ï¼Œéœ€è¦åœ¨settings.gradle.ktsä¸­æ·»åŠ ä¸€è¡Œä»£ç ï¼Œè®©GradleçŸ¥é“ä½¿ç”¨build.gradle.ktsè„šæœ¬æ„å»ºã€‚å› æ­¤ï¼Œæœ€åçš„settings.gradle.ktsä»£ç å¦‚ä¸‹ï¼š12include(&quot;app&quot;)rootProject.buildFileName = &quot;build.gradle.kts&quot; æœ€åä¸€æ­¥ï¼Œä¿®æ”¹appæ¨¡å—build.gradleæ–‡ä»¶ï¼Œè¿™ä¹Ÿæ˜¯æœ€å¤æ‚çš„ä¸€æ­¥ï¼Œä¿®æ”¹å®Œåç¼€ååï¼Œä½ ä¼šçœ‹åˆ°æ•´ä¸ªè„šæœ¬å…¨éƒ¨è¢«çº¢è‰²æ ‡è¯†é”™è¯¯ï¼š åˆ«æ…Œï¼è¿˜æ˜¯ä¸€æ ·çš„æ–¹å¼ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆå°†è¿™é‡Œçš„æ‰€æœ‰ä»£ç æ³¨é‡Šæ‰ã€‚åœ¨æœ€ä¸Šæ–¹é€ä¸€å¯¹åº”ä¿®æ”¹ï¼Œapply pluginéƒ¨åˆ†ä¿®æ”¹ä¸º:123plugins &#123; id(&quot;com.android.application&quot;)&#125; æ¥ä¸‹æ¥ï¼Œä¿®æ”¹android {}é—­åŒ…éƒ¨åˆ†ã€‚è¿™é‡Œæœ‰ä¸¤ä¸ªå°æŠ€å·§ï¼Œç”±äºç›®å‰IDEçš„æ”¯æŒä¸æ˜¯å¾ˆå®Œå–„ï¼Œåœ¨è¾“å…¥çš„æ—¶å€™ç¨å¾®ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼ŒIDEä¼šç»™å‡ºç›¸åº”çš„æç¤ºã€‚å¦å¤–ï¼Œå¦‚æœæ²¡æœ‰æç¤ºï¼Œä¾‹å¦‚android {}é—­åŒ…å°±æ²¡æœ‰ä»»ä½•æç¤ºï¼Œè¾“å…¥å®Œæˆåå±•å¼€å³ä¾§gradleé¢æ¿ï¼Œé€‰æ‹©gradle/buid setup/initï¼ŒåŒå‡»æ‰§è¡Œï¼š åœ¨åº•éƒ¨é¢æ¿å¯ä»¥çœ‹åˆ°ä»»åŠ¡æ‰§è¡Œæ˜¯å¦æˆåŠŸã€‚æ³¨æ„ï¼Œå³ä½¿ä»»åŠ¡æ‰§è¡ŒæˆåŠŸï¼Œè„šæœ¬ä¾ç„¶å¯èƒ½è¢«çº¢è‰²æ ‡è¯†ï¼Œè¿™æ˜¯IDEæ”¯æŒä¸å®Œå–„å¯¼è‡´çš„ï¼Œå¯ä»¥å¿½ç•¥ã€‚ ä¿®æ”¹å®Œæˆåçš„å†…å®¹å¦‚ä¸‹ï¼š1234567891011121314151617181920android &#123; compileSdkVersion(27) buildToolsVersion(&quot;27.0.2&quot;) defaultConfig &#123; applicationId = &quot;com.youngfeng.kotlindsl&quot; minSdkVersion(15) targetSdkVersion(27) versionCode = 1 versionName = &quot;1.0&quot; testInstrumentationRunner = &quot;android.support.test.runner.AndroidJUnitRunner&quot; &#125; buildTypes &#123; getByName(&quot;release&quot;) &#123; isMinifyEnabled = true proguardFiles(getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;) &#125; &#125;&#125; æ³¨æ„ï¼šä½ åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œä¾ç„¶å¯èƒ½ä¼šé‡åˆ°æ— è®ºå¦‚ä½•éƒ½ä¸ç”Ÿæ•ˆçš„é—®é¢˜ã€‚è¿™ä¸ªæ—¶å€™åˆ«ç€æ€¥ï¼Œä½¿ç”¨./gradlew assembleDebugå‘½ä»¤è°ƒè¯•ï¼ŒæŸ¥çœ‹ç»ˆç«¯æ‰¾åˆ°é”™è¯¯åŸå› ã€‚Windowsç”¨æˆ·å»æ‰./æ‰§è¡Œå³å¯ã€‚ æœ€åçš„ä¾èµ–éƒ¨åˆ†ï¼ŒåŒæ ·åœ°ï¼Œå…¨éƒ¨ä¿®æ”¹ä¸ºæ‹¬å·è°ƒç”¨å³å¯ã€‚è¿™é‡Œå°±ä¸èµ˜è¿°äº†ï¼Œæ–‡ç« çš„æœ€åéƒ¨åˆ†ä¼šæä¾›æ“ä½œè§†é¢‘ï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æœ‰ä»»ä½•é—®é¢˜å¯ä»¥æ‰“å¼€æ“ä½œè§†é¢‘å‚è€ƒï¼Œå¦‚æœä¾ç„¶ä¸èƒ½è§£å†³ï¼Œå¯ä»¥åœ¨æ–‡ç« ä¸‹æ–¹ç»™æˆ‘ç•™è¨€ï¼Œæˆ‘ä¼šåœ¨ç¬¬ä¸€æ—¶é—´ç»™ä½ ç­”å¤ã€‚ä¿®æ”¹åçš„å†…å®¹å¦‚ä¸‹ï¼š12345678dependencies &#123; implementation(fileTree(mapOf(&quot;dir&quot; to &quot;libs&quot;, &quot;include&quot; to listOf(&quot;*.jar&quot;)))) implementation(&quot;com.android.support:appcompat-v7:26.1.0&quot;) implementation(&quot;com.android.support.constraint:constraint-layout:1.0.2&quot;) testImplementation(&quot;junit:junit:4.12&quot;) androidTestImplementation(&quot;com.android.support.test:runner:1.0.1&quot;) androidTestImplementation(&quot;com.android.support.test.espresso:espresso-core:3.0.1&quot;)&#125; é€šè¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œä»Groovyè½¬æ¢åˆ°Kotlinçš„æ­¥éª¤å·²ç»å…¨éƒ¨å®Œæˆï¼Œä½ å¯ä»¥åœ¨ç»ˆç«¯è¾“å…¥./gradlew assembleDebugæµ‹è¯•æ˜¯å¦å¯ä»¥æ­£å¸¸æ„å»ºäº†ï¼š ç»Ÿä¸€ä¾èµ–ç®¡ç†ä¸Šé¢çš„æ­¥éª¤è™½ç„¶å®Œæˆäº†è„šæœ¬çš„è½¬æ¢ï¼Œä½†ä¾èµ–çš„ç®¡ç†ä¾ç„¶æ˜¯æ··ä¹±çš„ï¼Œä¸ºäº†å®ç°ç±»ä¼¼ Snake å·¥ç¨‹çš„ç»Ÿä¸€ä¾èµ–ç®¡ç†ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åšä¸€äº›å·¥ä½œã€‚ Gradleå®˜æ–¹æä¾›äº†ä½¿ç”¨ buildSrc ç›®å½•å®ç°è‡ªå®šä¹‰ä»»åŠ¡å’Œæ’ä»¶é€»è¾‘ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒå®Œæˆä¾èµ–çš„ç»Ÿä¸€å¤„ç†ï¼Œä¸€ä¸ªå®Œæ•´çš„buildSrcç›®å½•ç»“æ„å¦‚ä¸‹ï¼š Depsç±»ä¸­ï¼Œå¯ä»¥è¿™æ ·å®šä¹‰ä¾èµ–ç»“æ„ï¼š1234567891011121314151617181920212223object deps &#123; object plugin &#123; val gradle = &quot;com.android.tools.build:gradle:3.1.0-alpha09&quot; val kotlin = &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.2.21&quot; &#125; object kotlin &#123; val stdlibJre7 = &quot;org.jetbrains.kotlin:kotlin-stdlib-jre7:1.2.21&quot; &#125; object android &#123; object support &#123; val compat = &quot;com.android.support:appcompat-v7:27.0.2&quot; val constraintLayout = &quot;com.android.support.constraint:constraint-layout:1.0.2&quot; &#125; object test &#123; val junit = &quot;junit:junit:4.12&quot; val runner = &quot;com.android.support.test:runner:1.0.1&quot; val espressoCore = &quot;com.android.support.test.espresso:espresso-core:3.0.1&quot; &#125; &#125;&#125; å®šä¹‰ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨è„šæœ¬ä¸­ç›´æ¥å¼•ç”¨äº†ï¼š123456789dependencies &#123; implementation(fileTree(mapOf(&quot;dir&quot; to &quot;libs&quot;, &quot;include&quot; to listOf(&quot;*.jar&quot;)))) implementation(deps.kotlin.stdlibJre7) implementation(deps.android.support.compat) implementation(deps.android.support.constraintLayout) testImplementation(deps.android.test.junit) androidTestImplementation(deps.android.test.runner) androidTestImplementation(deps.android.test.espressoCore)&#125; æ˜¯ä¸æ˜¯æ¼‚äº®äº†è®¸å¤šï¼Ÿ è‡³æ­¤ï¼Œæ•´ä¸ªè½¬æ¢è¿‡ç¨‹å°±é¡ºåˆ©å®Œæˆäº†ï¼Œä¸ºäº†ä¿è¯è½¬æ¢çš„æˆåŠŸç‡ï¼Œæˆ‘æ¨èä½¿ç”¨æ–‡ç« å¼€å¤´çš„å®éªŒå®¤é…ç½®ã€‚å¦‚æœç‰ˆæœ¬è¿‡ä½ï¼Œä¸ä¿è¯å¯ä»¥è½¬æ¢æˆåŠŸã€‚æœ€æ–°ç‰ˆæœ¬çš„kotlin-dslä¼šè·Ÿéšæœ€æ–°ç‰ˆæœ¬çš„Gradleæ’ä»¶å‘å¸ƒï¼Œå› æ­¤ä¸€å®šè¦ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ã€‚å¦å¤–ï¼Œç›®å‰IDEå¯¹ktsçš„æ”¯æŒä¾ç„¶ä¸å®Œå–„ï¼Œå³ä½¿æ­£ç¡®çš„å†™æ³•ä¹Ÿä¼šæŠ¥é”™ï¼Œè¿™ä¸ªä¸€å®šè¦æ³¨æ„ï¼Œä¸è¦è¢«IDEæ¬ºéª—äº†ã€‚ æ›´è¯¦ç»†çš„æ“ä½œï¼Œè¯·çœ‹è§†é¢‘æ•™ç¨‹è…¾è®¯è§†é¢‘ï¼šç”¨Kotlinå†™Android Gradleè„šæœ¬ ä¸€äº›å»ºè®®è™½ç„¶ä½¿ç”¨Kotlinè¯­è¨€å†™è„šæœ¬æ˜¯ä¸€ä»¶éå¸¸ç¾å¦™çš„äº‹æƒ…ï¼Œä½†ç›®å‰ä¾ç„¶å­˜åœ¨ä¸€äº›é—®é¢˜ï¼š IDEæ”¯æŒä¸å®Œå–„ kotlin-dsl æ­£åœ¨å¿«é€Ÿå¼€å‘ä¸­ï¼Œè¯­æ³•å˜åŠ¨è¾ƒå¤§ ç¼ºå°‘å®˜æ–¹æ–‡æ¡£ äº’è”ç½‘ä¸Šç¼ºå°‘ç›¸å…³èµ„æ–™ï¼Œé‡åˆ°é—®é¢˜å¾ˆéš¾è¿½è¸ª å› æ­¤ï¼Œç›®å‰æˆ‘å¹¶ä¸æ¨èä½ åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œä½†å¯ä»¥ä½œä¸ºæ—¥å¸¸å­¦ä¹ ç»ƒæ‰‹ä¹‹ç”¨ã€‚é¢„è®¡1.0ç‰ˆæœ¬çš„å‘å¸ƒåœ¨ä»Šå¹´6æœˆä»½å·¦å³ï¼Œæ­£å¼ç‰ˆæœ¬å‘å¸ƒåï¼Œæˆ‘æ¨èä½ ç«‹å³å°†Gradleè„šæœ¬è½¬æ¢åˆ°Kotlinè¯­è¨€ã€‚ é‡åˆ°é—®é¢˜ï¼Œçœ‹è¿™é‡Œ ==&gt;åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼ŒæŒ‰ç…§æ–‡ç« åŒæ ·çš„æ­¥éª¤ï¼Œä½ ä¾ç„¶å¯èƒ½ä¼šé‡åˆ°å¾ˆå¤šé—®é¢˜ã€‚å› æ­¤ï¼Œæˆ‘ä¸ºä½ æ•´ç†äº†ç›®å‰äº’è”ç½‘ä¸Šå¯ä»¥å‚è€ƒçš„èµ„æ–™ï¼Œä½ å¯ä»¥æ”¶è—è¿™ç¯‡æ–‡ç« ã€‚é‡åˆ°é—®é¢˜åˆ«æ…Œï¼Œæ¥è¿™é‡ŒæŸ¥æ‰¾ç­”æ¡ˆã€‚ å…³äºkotlin-dslçš„å¼€å‘è·¯çº¿å›¾ï¼Œè¯·çœ‹è¿™ç¯‡æ–‡ç« ï¼šhttps://blog.gradle.org/kotlin-scripting-update å¦‚æœä½ åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°äº†ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”ç¡®å®šæ˜¯ kotlin-dsl çš„bugï¼Œè¯·ç‚¹è¿™é‡Œï¼šhttps://github.com/gradle/kotlin-dsl å¹¶æ¨é€ issue å¦‚æœä½ é‡åˆ°äº†çŸ¥è¯†ç›²ç‚¹ï¼Œå¹¶ä¸”åœ¨Googleæ‰¾ä¸åˆ°ç­”æ¡ˆã€‚å¯ä»¥æ¥ Slack#gradleé¢‘é“åé¦ˆï¼Œæˆ‘åœ¨ Slack çš„æ˜µç§°æ˜¯Scott Smithï¼Œä¹Ÿæ¬¢è¿ä½ ç»™æˆ‘å‘é€ç§ä¿¡æ¶ˆæ¯ã€‚ æœ¬ç¯‡æ–‡ç« ä¾‹å­å®Œæ•´ä»£ç ï¼Œè¯·ç‚¹å‡»è¿™é‡Œï¼šhttps://github.com/yuanhoujun/gradle-script-kotlin-example ktsæ–‡æ¡£æ­£åœ¨ç¼–å†™å½“ä¸­ï¼Œå…·ä½“è¿›åº¦ï¼Œè¯·ç‚¹è¿™é‡Œï¼šhttps://github.com/gradle/kotlin-dsl-docs æ¬¢è¿åŠ å…¥Kotlinäº¤æµç¾¤å¦‚æœä½ ä¹Ÿå–œæ¬¢Kotlinè¯­è¨€ï¼Œæ¬¢è¿åŠ å…¥æˆ‘çš„Kotlinäº¤æµç¾¤ï¼š 329673958 ï¼Œä¸€èµ·æ¥å‚ä¸Kotlinè¯­è¨€çš„æ¨å¹¿å·¥ä½œã€‚]]></content>
      <categories>
        <category>Kotlin</category>
        <category>æ‚è°ˆ</category>
      </categories>
      <tags>
        <tag>Kotlin</tag>
        <tag>Groovy</tag>
        <tag>Gradle</tag>
        <tag>è„šæœ¬</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kotlin ä»£ç†æ¨¡å¼]]></title>
    <url>%2F2016%2F08%2F22%2Fkotlin%2Fdelegation%2F</url>
    <content type="text"><![CDATA[ä»£ç†æ¨¡å¼æ˜¯23ç§ç»å…¸è®¾è®¡æ¨¡å¼ä¹‹ä¸€ï¼Œä»£ç†æ¨¡å¼è¢«è®¤ä¸ºæ˜¯ç»§æ‰¿çš„æ›´å¥½æ›¿ä»£è§£å†³æ–¹æ¡ˆï¼›å› ä¸ºä»£ç†æ¯”ç»§æ‰¿æ›´åŠ çµæ´»ï¼Œåœ¨Javaè¯­è¨€ä¸­ï¼Œé€šè¿‡åå°„å¯ä»¥å®ç°åŠ¨æ€ä»£ç†ï¼ŒåŠ¨æ€ä»£ç†å¯ä»¥å®ç°AOPç¼–ç¨‹ï¼Œå³ï¼šå¯ä»¥åŠ¨æ€åœ°å¾€å·²æœ‰ç±»ä¸­æ·»åŠ é€»è¾‘ï¼›æ¯”å¦‚ï¼šå®ç°äº‹åŠ¡çš„è‡ªåŠ¨æäº¤ï¼Œå¼‚å¸¸çš„è‡ªåŠ¨æ•è·ï¼Œçƒ­ä¿®å¤ç­‰ç­‰; åœ¨Kotlinè¯­è¨€ä¸­ï¼Œä»£ç†æ¨¡å¼æ˜¯é»˜è®¤æ”¯æŒçš„ï¼Œä¸éœ€è¦ä»»ä½•é¢å¤–çš„ä»£ç ï¼Œä½ åªéœ€è¦è®°ä½ä¸€ä¸ªå…³é”®å­—byã€‚æˆ‘ä»¬ä¸å¦¨æ¥è¯•ä¸€ä¸‹: 12345678910111213141516interface Base &#123; fun sayHi()&#125;class BaseImpl : Base &#123; override fun sayHi() &#123; println(&quot;BaseImpl-&gt;sayHi&quot;) &#125;&#125;class Derived(b: Base) : Base by bfun main(args: Array&lt;String&gt;) &#123; val b = BaseImpl() val derived = Derived(b) derived.sayHi()&#125; è¿™é‡ŒDerivedä½œä¸ºBaseImplçš„ä»£ç†ç±»ï¼Œæ‹¥æœ‰BaseImplç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•ï¼ŒDerivedå°†ä»£ç†BaseImplç±»æ‰§è¡ŒBaseImplç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•ï¼Œå°±åƒç»§æ‰¿è‡ªBaseImplç±»ä¸€æ ·ã€‚è¿™æ ·è¯´èµ·æ¥æœ‰ç‚¹æŠ½è±¡ï¼Œæ¥çœ‹ä¸€ä¸‹Kotlinç¼–è¯‘å™¨å…·ä½“ä¸ºæˆ‘ä»¬åšäº†ä¸€äº›ä»€ä¹ˆã€‚ä½†æ˜¯ï¼Œæ€ä¹ˆçœ‹å‘¢ï¼Ÿæ•™å¤§å®¶ä¸€ä¸ªæ–¹æ³•ï¼å¤§å®¶éƒ½çŸ¥é“ï¼ŒKotlinå’ŒJavaå‡æ˜¯JVMè¯­è¨€ï¼Œæœ€ç»ˆå‡è½¬æ¢åˆ°åŒæ ·çš„Javaå­—èŠ‚ç ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å…ˆå°†Kotlinç¼–è¯‘ä¸º.classæ–‡ä»¶ï¼Œå†åç¼–è¯‘ä¸º.javaæ–‡ä»¶ï¼Œçœ‹çœ‹å¯¹åº”çš„Javaä»£ç ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°æ›´å¤šçš„ç»†èŠ‚ã€‚ä¸‹é¢æ˜¯æœ€ç»ˆåç¼–è¯‘ç”Ÿæˆçš„Javaä»£ç : 12345678public final class Derived implements Base &#123; public Derived(@NotNull Base b) &#123; this.$$delegate_0 = b; &#125; public void sayHi() &#123; this.$$delegate_0.sayHi(); &#125;&#125; è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ï¼ŒKotlinç¼–è¯‘å™¨ä¸ºæˆ‘ä»¬åŠ¨æ€æ·»åŠ äº†ä¸€ä¸ªæˆå‘˜å˜é‡$$delegate_0ï¼Œè¿™ä¸ªæˆå‘˜å˜é‡ä»£è¡¨è¢«ä»£ç†çš„å¯¹è±¡ï¼Œè¿™é‡Œå¯¹åº”çš„æ˜¯BaseImplå¯¹è±¡ï¼ŒDerivedé‡Œé¢çš„sayHiæ–¹æ³•æœ€ç»ˆè°ƒç”¨æ˜¯ä»£ç†å¯¹è±¡çš„sayHiæ–¹æ³•ï¼Œå³Kotlinç¼–è¯‘å™¨å¸®æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªéå¸¸æ¼‚äº®çš„ä»£ç†æ¨¡å¼å®ç°ã€‚ ä»£ç†å±æ€§åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›æŸäº›å±æ€§å»¶è¿ŸåŠ è½½ï¼Œå³åœ¨æˆ‘ä»¬æ­£åœ¨éœ€è¦çš„æ—¶å€™æ‰å¯¹å®ƒèµ‹å€¼ï¼›äº¦æˆ–è€…æˆ‘ä»¬å¸Œæœ›å¯ä»¥éšæ—¶ç›‘å¬å±æ€§å€¼çš„å˜åŒ–ï¼›åœ¨ä¸Šè¿°è¿™äº›åœºæ™¯ä¸­ï¼Œä»£ç†å±æ€§å°±å¯ä»¥å‘æŒ¥ä½œç”¨äº†ã€‚ ä»£ç†å±æ€§çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 123456789101112131415161718class DelegateProperty &#123; val d: String by Delegate()&#125;class Delegate &#123; operator fun getValue(thisRef: Any? , property: KProperty&lt;*&gt;): String &#123; return &quot;Invoke getValue() , thisRef = $thisRef , property name = $&#123;property.name&#125;&quot; &#125; operator fun setValue(thisRef: Any? , property: KProperty&lt;*&gt; , value: String) &#123; println(&quot;Invoke setValue() , thisRef = $thisRef , property name = $&#123;property.name&#125; , value = $value&quot;) &#125;&#125;fun main(args: Array&lt;String&gt;) &#123; val dp = DelegatedProperty() dp.d = &quot;Value0&quot; // Invoke setValue() , thisRef = DelegatedProperty@2ef1e4fa , property name = d , value = Value0 println(dp.d) // Invoke getValue() , thisRef = DelegatedProperty@2ef1e4fa , property name = d&#125; è¿™é‡Œçš„ä»£ç†æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿæˆ‘ä»¬çŸ¥é“ï¼ŒKotlinçš„å±æ€§å€¼ä¼šè‡ªåŠ¨ç”Ÿæˆset/getæ–¹æ³•ï¼Œè€Œä»£ç†ç±»é€šè¿‡ä»£ç†set/getæ–¹æ³•ç”Ÿæˆç›¸åº”çš„ä»£ç†æ–¹æ³•ï¼Œè¿™é‡Œçš„æ–¹æ³•å¯¹åº”å…³ç³»å¦‚ä¸‹ï¼š 1234// thisRefå¯¹åº”ä»£ç†å¯¹è±¡çš„å¼•ç”¨ï¼Œpropertyå¯¹åº”ä»£ç†å±æ€§çš„åå°„å±æ€§å°è£…// æ³¨æ„è¿™é‡Œçš„ä»£ç†æ–¹æ³•ä¸€å®šè¦æ·»åŠ operatorå…³é”®å­—ï¼Œoperatorå…³é”®å­—æ˜¯é‡è½½æ“ä½œç¬¦å…³é”®å­—ï¼Œåç»­çš„æ–‡ç« ä¸­ä¼šè®²åˆ°ï¼Œæ•¬è¯·æœŸå¾…get() -&gt; operator fun getValue(thisRef: Any? , property: KProperty&lt;*&gt;)set() -&gt; operator fun setValue(thisRef: Any? , property: KProperty&lt;*&gt; , value: T) Kotlinæ ‡å‡†åº“æä¾›äº†ä¸€äº›å¸¸ç”¨ä»£ç†çš„æ–¹æ³•å®ç°ï¼Œå³ä¸Šæ–‡æåˆ°çš„å‡ ç§ä»£ç†ï¼Œå…ˆæ¥çœ‹ç¬¬ä¸€ç§ï¼šå»¶è¿ŸåŠ è½½ã€‚ å»¶è¿ŸåŠ è½½Kotlinæä¾›äº†ä¸€ä¸ªlazyæ–¹æ³•ç”¨äºå®ç°å»¶è¿ŸåŠ è½½ï¼Œlazyæ–¹æ³•æœ‰ä¸€ä¸ªlambdaè¡¨è¾¾å¼å‚æ•°ï¼Œç”¨äºå¯¹å±æ€§è¿›è¡Œåˆå§‹åŒ–èµ‹å€¼ï¼Œè€Œä¸€æ—¦å®Œæˆèµ‹å€¼ï¼Œè¯¥lambdaè¡¨è¾¾å¼å°†ä¸ä¼šå†æ¬¡è°ƒç”¨ã€‚lambdaè¡¨è¾¾å¼è°ƒç”¨å‘ç”Ÿåœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨è¯¥å±æ€§çš„æ—¶å€™ï¼Œå³å®ç°äº†å±æ€§èµ‹å€¼çš„å»¶è¿ŸåŠ è½½ã€‚æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­: 1234567891011// ä½¿ç”¨æ ‡å‡†åº“å®ç°çš„lazyå‡½æ•°ï¼Œå®ç°å±æ€§çš„å»¶è¿ŸåŠ è½½private val lazyValue: String by lazy &#123; println(&quot;è°ƒç”¨è¯¥åˆå§‹èµ‹å€¼è¡¨è¾¾å¼å®Œæˆèµ‹å€¼&quot;) // è¿™é‡Œæ˜¯å®é™…èµ‹å€¼ &quot;Hello, world&quot;&#125;fun main(args: Array&lt;String&gt;) &#123; // ä»…åœ¨ç¬¬ä¸€æ¬¡ä¼šè°ƒç”¨lazyæ–¹æ³•çš„lambdaè¡¨è¾¾å¼ println(lazyValue) // æ‰“å°ï¼šè°ƒç”¨è¯¥åˆå§‹èµ‹å€¼è¡¨è¾¾å¼å®Œæˆèµ‹å€¼ println(lazyValue) // æ‰“å°ï¼š Hello, world, å†æ¬¡è°ƒç”¨å°†ä¸å†è°ƒç”¨lambdaè¡¨è¾¾å¼&#125; lazyæ–¹æ³•æ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„å»¶è¿ŸåŠ è½½æ–¹æ³•ï¼Œä¸ºäº†åŠ æ·±å¤§å®¶çš„ç†è§£ï¼Œæ ¹æ®ä¸Šé¢çš„åŸç†ï¼Œæˆ‘ä»¬å°è¯•è‡ªå·±æ¥å®ç°ä¸€ä¸ªéçº¿ç¨‹å®‰å…¨çš„å»¶è¿ŸåŠ è½½æ–¹æ³•ï¼Œçœ‹å…·ä½“å®ç°ï¼š 1234567891011121314151617181920212223242526272829private object UNINITIALIZE_VALUEclass MyLazy&lt;T&gt;(initialize: ()-&gt;T) &#123; private var value: Any? = UNINITIALIZE_VALUE private val initialize = initialize operator fun getValue(thisRef: Any? , property: KProperty&lt;*&gt;): T &#123; if(value == UNINITIALIZE_VALUE) &#123; value = initialize() &#125; return value as T &#125; operator fun setValue(thisRef: Any? , property: KProperty&lt;*&gt; , value: T) &#123; this.value = value &#125;&#125;// ä¸ºäº†å’Œæ ‡å‡†åº“åŒºåˆ†ï¼Œä½¿ç”¨__lazyå‘½åfun &lt;T&gt; __lazy(initialize: () -&gt; T): MyLazy&lt;T&gt; = MyLazy(initialize)var lazyValue1 by __lazy &#123; println(&quot;è‡ªå®šä¹‰lazyåˆå§‹åŒ–èµ‹å€¼è¡¨è¾¾å¼è¢«è°ƒç”¨&quot;) &quot;Hello , world&quot;&#125;fun main(args: Array&lt;String&gt;) &#123; // è‡ªå®šä¹‰å»¶è¿ŸåŠ è½½å‡½æ•°__lazy println(lazyValue1) lazyValue1 = &quot;Other value&quot; println(lazyValue1)&#125; ç”±æ­¤å¯è§ï¼Œå®ç°ä¸€ä¸ªå»¶è¿ŸåŠ è½½æ¥å£å¹¶ä¸å¤æ‚ï¼Œæœ€é‡è¦çš„æ˜¯è¦ç†è§£å»¶è¿ŸåŠ è½½çš„è¿‡ç¨‹ä»¥åŠå®ç°åŸç†ã€‚æ€»ç»“å®ç°å»¶è¿ŸåŠ è½½æ¥å£ï¼Œéœ€è¦æ³¨æ„ä¸‰ä¸ªåœ°æ–¹ï¼š éœ€è¦æä¾›åˆå§‹åŒ–lambdaè¡¨è¾¾å¼å‚æ•°ï¼Œç”¨äºåˆå§‹èµ‹å€¼ éœ€è¦å®ç°ä»£ç†å±æ€§å¯¹è±¡çš„setValue/getValueæ–¹æ³•ï¼Œå¦‚æœæ˜¯valåˆ™åªéœ€è¦å®ç°getValueå³å¯ éœ€è¦ä¸¥æ ¼ç¡®ä¿å±æ€§ä¸ä¼šè¢«å¤šæ¬¡åˆå§‹åŒ– Observableå±æ€§Kotlinæ ‡å‡†åº“è¿˜æä¾›äº†ä¸€ä¸ªå¯è§‚å¯Ÿå±æ€§ï¼Œè¿™ä¸ªå±æ€§ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼å®ç°ï¼Œå¦‚æœå±æ€§å€¼å‘ç”Ÿå˜åŒ–åˆ™ä¼šè°ƒç”¨ç›¸åº”çš„å›è°ƒlambdaæ¥å£é€šçŸ¥ä½¿ç”¨è€…ï¼Œå…ˆçœ‹ä¸€ä¸ªå…·ä½“çš„ä¾‹å­: 123456789var observableValue by Delegates.observable(&quot;Initial value&quot;) &#123; prop , old , new -&gt; println(&quot;$old -&gt; $new&quot;)&#125;fun main(args: Array&lt;String&gt;) &#123; println(observableValue) // æ‰“å°ï¼šInitial value observableValue = &quot;Hello&quot; // æ‰“å°: Initial value -&gt; Hello println(observableValue) // æ‰“å°ï¼šHello&#125; è¿™é‡Œçš„å…·ä½“å®ç°ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦è¯·å‚çœ‹æ–‡ç« å¼€å¤´çš„æ–¹æ³•è¿›è¡Œè¿½è¸ªï¼ Storing Properties in a Mapè¿™ä¹Ÿæ˜¯Kotlinæ ‡å‡†åº“æä¾›çš„ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„ç‰¹æ€§ï¼Œå®ƒä¸»è¦ç”¨äºJSONæ•°æ®çš„è§£æã€‚çœ‹å®˜æ–¹çš„ä¾‹å­ï¼š 123456789class User(val map: Map&lt;String, Any?&gt;) &#123; val name: String by map val age: Int by map&#125;val user = User(mapOf( &quot;name&quot; to &quot;John Doe&quot;, &quot;age&quot; to 25)) è¯¥æ–¹æ³•æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ï¼ æ€»ç»“è‡³æ­¤ï¼Œå…³äºä»£ç†çš„ä»‹ç»å¯ä»¥æš‚æ—¶å‘Šä¸€æ®µè½äº†ï¼ä»£ç†æ¨¡å¼æ˜¯ä¸€ä¸ªéå¸¸ç»å…¸è®¾è®¡æ¨¡å¼ï¼Œåœ¨è§£å†³æŸäº›é—®é¢˜ä¸­å¯ä»¥å‘æŒ¥äº‹åŠåŠŸå€çš„æ•ˆæœã€‚å¹¸è¿çš„æ˜¯ï¼ŒKotlinè¯­è¨€åŸç”Ÿæ”¯æŒä»£ç†æ¨¡å¼ï¼Œå®ç°ä»£ç†æ¨¡å¼å¦‚åŒå£°æ˜ä¸€ä¸ªå±æ€§ä¸€æ ·ç®€å•ã€‚è€Œä¸”ï¼Œä»£ç†æ¨¡å¼çš„è®¾è®¡ä¹Ÿéå¸¸æ¼‚äº®ï¼Œä»…ä»…ä½¿ç”¨ä¸€ä¸ªå…³é”®å­—byæå°½ç®€çº¦ä¹‹ç¾ã€‚åœ¨æ—¥å¸¸ç¼–ç ä¸­ï¼Œä¸€å®šè¦çµæ´»è¿ç”¨ä»£ç†æ¨¡å¼ï¼Œæ¯”å¦‚å®ç°å»¶è¿ŸåŠ è½½ï¼Œå®ç°å±æ€§è§‚å¯Ÿç­‰ç­‰ã€‚KotterKnife æ˜¯ä¸€ä¸ªéå¸¸ç»å…¸çš„ä»£ç†æ¨¡å¼çš„å®ç°ä¾‹å­ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥cloneè¯¥ä»“åº“ï¼ŒæŸ¥çœ‹æºç ï¼Œé¢†ä¼šä»£ç†æ¨¡å¼çš„ä¼˜ç¾ã€‚ æ¬¢è¿åŠ å…¥Kotlinäº¤æµç¾¤å¦‚æœä½ ä¹Ÿå–œæ¬¢Kotlinè¯­è¨€ï¼Œæ¬¢è¿åŠ å…¥æˆ‘çš„Kotlinäº¤æµç¾¤ï¼š 329673958 ï¼Œä¸€èµ·æ¥å‚ä¸Kotlinè¯­è¨€çš„æ¨å¹¿å·¥ä½œã€‚ æ–‡ç« æºç åœ°å€Kotliner: https://github.com/yuanhoujun/Kotliner,åˆ«å¿˜äº†ç‚¹å‡»ä»“åº“å³ä¸Šæ–¹çš„starå“¦ï¼]]></content>
      <categories>
        <category>Kotlin</category>
        <category>åŸºç¡€çŸ¥è¯†</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Kotlin</tag>
        <tag>ä»£ç†æ¨¡å¼</tag>
        <tag>ä»£ç†å±æ€§</tag>
        <tag>å»¶è¿ŸåŠ è½½</tag>
      </tags>
  </entry>
</search>
